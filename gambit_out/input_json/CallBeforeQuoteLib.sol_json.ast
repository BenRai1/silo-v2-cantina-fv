{"absolutePath":"silo-core/contracts/lib/CallBeforeQuoteLib.sol","exportedSymbols":{"CallBeforeQuoteLib":[12132],"ISiloConfig":[3553],"ISiloOracle":[14802]},"id":12133,"license":"BUSL-1.1","nodeType":"SourceUnit","nodes":[{"id":12069,"literals":["solidity","^","0.8",".28"],"nodeType":"PragmaDirective","src":"37:24:50"},{"absolutePath":"silo-core/contracts/interfaces/ISiloConfig.sol","file":"../interfaces/ISiloConfig.sol","id":12071,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":12133,"sourceUnit":3554,"src":"63:58:50","symbolAliases":[{"foreign":{"id":12070,"name":"ISiloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3553,"src":"71:11:50","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/ISiloOracle.sol","file":"../interfaces/ISiloOracle.sol","id":12073,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":12133,"sourceUnit":14803,"src":"122:58:50","symbolAliases":[{"foreign":{"id":12072,"name":"ISiloOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14802,"src":"130:11:50","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"abstract":false,"baseContracts":[],"canonicalName":"CallBeforeQuoteLib","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"id":12132,"linearizedBaseContracts":[12132],"name":"CallBeforeQuoteLib","nameLocation":"190:18:50","nodeType":"ContractDefinition","nodes":[{"body":{"id":12101,"nodeType":"Block","src":"405:172:50","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":12089,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":12080,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12077,"src":"419:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12081,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"427:15:50","memberName":"callBeforeQuote","nodeType":"MemberAccess","referencedDeclaration":3347,"src":"419:23:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":12088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":12082,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12077,"src":"446:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12083,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"454:14:50","memberName":"solvencyOracle","nodeType":"MemberAccess","referencedDeclaration":3329,"src":"446:22:50","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":12086,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"480:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":12085,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"472:7:50","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":12084,"name":"address","nodeType":"ElementaryTypeName","src":"472:7:50","typeDescriptions":{}}},"id":12087,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"472:10:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"446:36:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"419:63:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":12100,"nodeType":"IfStatement","src":"415:156:50","trueBody":{"id":12099,"nodeType":"Block","src":"484:87:50","statements":[{"expression":{"arguments":[{"expression":{"id":12095,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12077,"src":"546:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12096,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"554:5:50","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":3321,"src":"546:13:50","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"expression":{"id":12091,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12077,"src":"510:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12092,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"518:14:50","memberName":"solvencyOracle","nodeType":"MemberAccess","referencedDeclaration":3329,"src":"510:22:50","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":12090,"name":"ISiloOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14802,"src":"498:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISiloOracle_$14802_$","typeString":"type(contract ISiloOracle)"}},"id":12093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"498:35:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}},"id":12094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"534:11:50","memberName":"beforeQuote","nodeType":"MemberAccess","referencedDeclaration":14785,"src":"498:47:50","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":12097,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"498:62:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":12098,"nodeType":"ExpressionStatement","src":"498:62:50"}]}}]},"documentation":{"id":12074,"nodeType":"StructuredDocumentation","src":"215:98:50","text":"@dev Call `beforeQuote` on the `solvencyOracle` oracle\n @param _config Silo config data"},"id":12102,"implemented":true,"kind":"function","modifiers":[],"name":"callSolvencyOracleBeforeQuote","nameLocation":"327:29:50","nodeType":"FunctionDefinition","parameters":{"id":12078,"nodeType":"ParameterList","parameters":[{"constant":false,"id":12077,"mutability":"mutable","name":"_config","nameLocation":"387:7:50","nodeType":"VariableDeclaration","scope":12102,"src":"357:37:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":12076,"nodeType":"UserDefinedTypeName","pathNode":{"id":12075,"name":"ISiloConfig.ConfigData","nameLocations":["357:11:50","369:10:50"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"357:22:50"},"referencedDeclaration":3348,"src":"357:22:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"}],"src":"356:39:50"},"returnParameters":{"id":12079,"nodeType":"ParameterList","parameters":[],"src":"405:0:50"},"scope":12132,"src":"318:259:50","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":12130,"nodeType":"Block","src":"769:168:50","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":12118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":12109,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12106,"src":"783:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12110,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"791:15:50","memberName":"callBeforeQuote","nodeType":"MemberAccess","referencedDeclaration":3347,"src":"783:23:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":12117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":12111,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12106,"src":"810:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12112,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"818:12:50","memberName":"maxLtvOracle","nodeType":"MemberAccess","referencedDeclaration":3331,"src":"810:20:50","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":12115,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"842:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":12114,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"834:7:50","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":12113,"name":"address","nodeType":"ElementaryTypeName","src":"834:7:50","typeDescriptions":{}}},"id":12116,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"834:10:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"810:34:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"783:61:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":12129,"nodeType":"IfStatement","src":"779:152:50","trueBody":{"id":12128,"nodeType":"Block","src":"846:85:50","statements":[{"expression":{"arguments":[{"expression":{"id":12124,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12106,"src":"906:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12125,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"914:5:50","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":3321,"src":"906:13:50","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"expression":{"id":12120,"name":"_config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12106,"src":"872:7:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":12121,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"880:12:50","memberName":"maxLtvOracle","nodeType":"MemberAccess","referencedDeclaration":3331,"src":"872:20:50","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":12119,"name":"ISiloOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14802,"src":"860:11:50","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISiloOracle_$14802_$","typeString":"type(contract ISiloOracle)"}},"id":12122,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"860:33:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}},"id":12123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"894:11:50","memberName":"beforeQuote","nodeType":"MemberAccess","referencedDeclaration":14785,"src":"860:45:50","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":12126,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"860:60:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":12127,"nodeType":"ExpressionStatement","src":"860:60:50"}]}}]},"documentation":{"id":12103,"nodeType":"StructuredDocumentation","src":"583:96:50","text":"@dev Call `beforeQuote` on the `maxLtvOracle` oracle\n @param _config Silo config data"},"id":12131,"implemented":true,"kind":"function","modifiers":[],"name":"callMaxLtvOracleBeforeQuote","nameLocation":"693:27:50","nodeType":"FunctionDefinition","parameters":{"id":12107,"nodeType":"ParameterList","parameters":[{"constant":false,"id":12106,"mutability":"mutable","name":"_config","nameLocation":"751:7:50","nodeType":"VariableDeclaration","scope":12131,"src":"721:37:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":12105,"nodeType":"UserDefinedTypeName","pathNode":{"id":12104,"name":"ISiloConfig.ConfigData","nameLocations":["721:11:50","733:10:50"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"721:22:50"},"referencedDeclaration":3348,"src":"721:22:50","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"}],"src":"720:39:50"},"returnParameters":{"id":12108,"nodeType":"ParameterList","parameters":[],"src":"769:0:50"},"scope":12132,"src":"684:253:50","stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"scope":12133,"src":"182:757:50","usedErrors":[],"usedEvents":[]}],"src":"37:903:50"}