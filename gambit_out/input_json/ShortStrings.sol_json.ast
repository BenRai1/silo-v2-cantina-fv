{"absolutePath":"/home/benrai/folder/Audits Code/2025-01-14 silo-v2-cantina-fv_ISSUE/gitmodules/openzeppelin-contracts-5/contracts/utils/ShortStrings.sol","exportedSymbols":{"ShortString":[21882],"ShortStrings":[22093],"StorageSlot":[22277]},"id":22094,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":21878,"literals":["solidity","^","0.8",".20"],"nodeType":"PragmaDirective","src":"106:24:19"},{"absolutePath":"/home/benrai/folder/Audits Code/2025-01-14 silo-v2-cantina-fv_ISSUE/gitmodules/openzeppelin-contracts-5/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","id":21880,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":22094,"sourceUnit":22278,"src":"132:46:19","symbolAliases":[{"foreign":{"id":21879,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22277,"src":"140:11:19","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"canonicalName":"ShortString","id":21882,"name":"ShortString","nameLocation":"353:11:19","nodeType":"UserDefinedValueTypeDefinition","src":"348:28:19","underlyingType":{"id":21881,"name":"bytes32","nodeType":"ElementaryTypeName","src":"368:7:19","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":21883,"nodeType":"StructuredDocumentation","src":"378:876:19","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"id":22093,"linearizedBaseContracts":[22093],"name":"ShortStrings","nameLocation":"1263:12:19","nodeType":"ContractDefinition","nodes":[{"constant":true,"id":21886,"mutability":"constant","name":"FALLBACK_SENTINEL","nameLocation":"1370:17:19","nodeType":"VariableDeclaration","scope":22093,"src":"1345:111:19","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":21884,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1345:7:19","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":21885,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1390:66:19","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"errorSelector":"305a27a9","id":21890,"name":"StringTooLong","nameLocation":"1469:13:19","nodeType":"ErrorDefinition","parameters":{"id":21889,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21888,"mutability":"mutable","name":"str","nameLocation":"1490:3:19","nodeType":"VariableDeclaration","scope":21890,"src":"1483:10:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":21887,"name":"string","nodeType":"ElementaryTypeName","src":"1483:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1482:12:19"},"src":"1463:32:19"},{"errorSelector":"b3512b0c","id":21892,"name":"InvalidShortString","nameLocation":"1506:18:19","nodeType":"ErrorDefinition","parameters":{"id":21891,"nodeType":"ParameterList","parameters":[],"src":"1524:2:19"},"src":"1500:27:19"},{"body":{"id":21935,"nodeType":"Block","src":"1786:208:19","statements":[{"assignments":[21902],"declarations":[{"constant":false,"id":21902,"mutability":"mutable","name":"bstr","nameLocation":"1809:4:19","nodeType":"VariableDeclaration","scope":21935,"src":"1796:17:19","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":21901,"name":"bytes","nodeType":"ElementaryTypeName","src":"1796:5:19","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":21907,"initialValue":{"arguments":[{"id":21905,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21895,"src":"1822:3:19","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":21904,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1816:5:19","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":21903,"name":"bytes","nodeType":"ElementaryTypeName","src":"1816:5:19","typeDescriptions":{}}},"id":21906,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1816:10:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1796:30:19"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":21911,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":21908,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21902,"src":"1840:4:19","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":21909,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1845:6:19","memberName":"length","nodeType":"MemberAccess","src":"1840:11:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":21910,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1854:2:19","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1840:16:19","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":21917,"nodeType":"IfStatement","src":"1836:72:19","trueBody":{"id":21916,"nodeType":"Block","src":"1858:50:19","statements":[{"errorCall":{"arguments":[{"id":21913,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21895,"src":"1893:3:19","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":21912,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21890,"src":"1879:13:19","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$_t_error_$","typeString":"function (string memory) pure returns (error)"}},"id":21914,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1879:18:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":21915,"nodeType":"RevertStatement","src":"1872:25:19"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":21931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":21926,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21902,"src":"1965:4:19","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":21925,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1957:7:19","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":21924,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1957:7:19","typeDescriptions":{}}},"id":21927,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1957:13:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":21923,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1949:7:19","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":21922,"name":"uint256","nodeType":"ElementaryTypeName","src":"1949:7:19","typeDescriptions":{}}},"id":21928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1949:22:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":21929,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21902,"src":"1974:4:19","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":21930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1979:6:19","memberName":"length","nodeType":"MemberAccess","src":"1974:11:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1949:36:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":21921,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1941:7:19","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":21920,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1941:7:19","typeDescriptions":{}}},"id":21932,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1941:45:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":21918,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21882,"src":"1924:11:19","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"type(ShortString)"}},"id":21919,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1936:4:19","memberName":"wrap","nodeType":"MemberAccess","src":"1924:16:19","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":21933,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1924:63:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"functionReturnParameters":21900,"id":21934,"nodeType":"Return","src":"1917:70:19"}]},"documentation":{"id":21893,"nodeType":"StructuredDocumentation","src":"1533:170:19","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"id":21936,"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1717:13:19","nodeType":"FunctionDefinition","parameters":{"id":21896,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21895,"mutability":"mutable","name":"str","nameLocation":"1745:3:19","nodeType":"VariableDeclaration","scope":21936,"src":"1731:17:19","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":21894,"name":"string","nodeType":"ElementaryTypeName","src":"1731:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1730:19:19"},"returnParameters":{"id":21900,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21899,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":21936,"src":"1773:11:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"},"typeName":{"id":21898,"nodeType":"UserDefinedTypeName","pathNode":{"id":21897,"name":"ShortString","nameLocations":["1773:11:19"],"nodeType":"IdentifierPath","referencedDeclaration":21882,"src":"1773:11:19"},"referencedDeclaration":21882,"src":"1773:11:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"visibility":"internal"}],"src":"1772:13:19"},"scope":22093,"src":"1708:286:19","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":21961,"nodeType":"Block","src":"2152:331:19","statements":[{"assignments":[21946],"declarations":[{"constant":false,"id":21946,"mutability":"mutable","name":"len","nameLocation":"2170:3:19","nodeType":"VariableDeclaration","scope":21961,"src":"2162:11:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":21945,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":21950,"initialValue":{"arguments":[{"id":21948,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21940,"src":"2187:4:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}],"id":21947,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21994,"src":"2176:10:19","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$21882_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":21949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2176:16:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2162:30:19"},{"assignments":[21952],"declarations":[{"constant":false,"id":21952,"mutability":"mutable","name":"str","nameLocation":"2294:3:19","nodeType":"VariableDeclaration","scope":21961,"src":"2280:17:19","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":21951,"name":"string","nodeType":"ElementaryTypeName","src":"2280:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":21957,"initialValue":{"arguments":[{"hexValue":"3332","id":21955,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2311:2:19","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":21954,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2300:10:19","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":21953,"name":"string","nodeType":"ElementaryTypeName","src":"2304:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":21956,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2300:14:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2280:34:19"},{"AST":{"nativeSrc":"2376:81:19","nodeType":"YulBlock","src":"2376:81:19","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2397:3:19","nodeType":"YulIdentifier","src":"2397:3:19"},{"name":"len","nativeSrc":"2402:3:19","nodeType":"YulIdentifier","src":"2402:3:19"}],"functionName":{"name":"mstore","nativeSrc":"2390:6:19","nodeType":"YulIdentifier","src":"2390:6:19"},"nativeSrc":"2390:16:19","nodeType":"YulFunctionCall","src":"2390:16:19"},"nativeSrc":"2390:16:19","nodeType":"YulExpressionStatement","src":"2390:16:19"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2430:3:19","nodeType":"YulIdentifier","src":"2430:3:19"},{"kind":"number","nativeSrc":"2435:4:19","nodeType":"YulLiteral","src":"2435:4:19","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2426:3:19","nodeType":"YulIdentifier","src":"2426:3:19"},"nativeSrc":"2426:14:19","nodeType":"YulFunctionCall","src":"2426:14:19"},{"name":"sstr","nativeSrc":"2442:4:19","nodeType":"YulIdentifier","src":"2442:4:19"}],"functionName":{"name":"mstore","nativeSrc":"2419:6:19","nodeType":"YulIdentifier","src":"2419:6:19"},"nativeSrc":"2419:28:19","nodeType":"YulFunctionCall","src":"2419:28:19"},"nativeSrc":"2419:28:19","nodeType":"YulExpressionStatement","src":"2419:28:19"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"cancun","externalReferences":[{"declaration":21946,"isOffset":false,"isSlot":false,"src":"2402:3:19","valueSize":1},{"declaration":21940,"isOffset":false,"isSlot":false,"src":"2442:4:19","valueSize":1},{"declaration":21952,"isOffset":false,"isSlot":false,"src":"2397:3:19","valueSize":1},{"declaration":21952,"isOffset":false,"isSlot":false,"src":"2430:3:19","valueSize":1}],"id":21958,"nodeType":"InlineAssembly","src":"2367:90:19"},{"expression":{"id":21959,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21952,"src":"2473:3:19","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":21944,"id":21960,"nodeType":"Return","src":"2466:10:19"}]},"documentation":{"id":21937,"nodeType":"StructuredDocumentation","src":"2000:73:19","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"id":21962,"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2087:8:19","nodeType":"FunctionDefinition","parameters":{"id":21941,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21940,"mutability":"mutable","name":"sstr","nameLocation":"2108:4:19","nodeType":"VariableDeclaration","scope":21962,"src":"2096:16:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"},"typeName":{"id":21939,"nodeType":"UserDefinedTypeName","pathNode":{"id":21938,"name":"ShortString","nameLocations":["2096:11:19"],"nodeType":"IdentifierPath","referencedDeclaration":21882,"src":"2096:11:19"},"referencedDeclaration":21882,"src":"2096:11:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"visibility":"internal"}],"src":"2095:18:19"},"returnParameters":{"id":21944,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21943,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":21962,"src":"2137:13:19","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":21942,"name":"string","nodeType":"ElementaryTypeName","src":"2137:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2136:15:19"},"scope":22093,"src":"2078:405:19","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":21993,"nodeType":"Block","src":"2625:175:19","statements":[{"assignments":[21972],"declarations":[{"constant":false,"id":21972,"mutability":"mutable","name":"result","nameLocation":"2643:6:19","nodeType":"VariableDeclaration","scope":21993,"src":"2635:14:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":21971,"name":"uint256","nodeType":"ElementaryTypeName","src":"2635:7:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":21982,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":21981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":21977,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21966,"src":"2679:4:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}],"expression":{"id":21975,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21882,"src":"2660:11:19","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"type(ShortString)"}},"id":21976,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2672:6:19","memberName":"unwrap","nodeType":"MemberAccess","src":"2660:18:19","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$21882_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":21978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2660:24:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":21974,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2652:7:19","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":21973,"name":"uint256","nodeType":"ElementaryTypeName","src":"2652:7:19","typeDescriptions":{}}},"id":21979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2652:33:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":21980,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2688:4:19","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2652:40:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2635:57:19"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":21985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":21983,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21972,"src":"2706:6:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":21984,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2715:2:19","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2706:11:19","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":21990,"nodeType":"IfStatement","src":"2702:69:19","trueBody":{"id":21989,"nodeType":"Block","src":"2719:52:19","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":21986,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21892,"src":"2740:18:19","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":21987,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2740:20:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":21988,"nodeType":"RevertStatement","src":"2733:27:19"}]}},{"expression":{"id":21991,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21972,"src":"2787:6:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":21970,"id":21992,"nodeType":"Return","src":"2780:13:19"}]},"documentation":{"id":21963,"nodeType":"StructuredDocumentation","src":"2489:61:19","text":" @dev Return the length of a `ShortString`."},"id":21994,"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2564:10:19","nodeType":"FunctionDefinition","parameters":{"id":21967,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21966,"mutability":"mutable","name":"sstr","nameLocation":"2587:4:19","nodeType":"VariableDeclaration","scope":21994,"src":"2575:16:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"},"typeName":{"id":21965,"nodeType":"UserDefinedTypeName","pathNode":{"id":21964,"name":"ShortString","nameLocations":["2575:11:19"],"nodeType":"IdentifierPath","referencedDeclaration":21882,"src":"2575:11:19"},"referencedDeclaration":21882,"src":"2575:11:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"visibility":"internal"}],"src":"2574:18:19"},"returnParameters":{"id":21970,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21969,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":21994,"src":"2616:7:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":21968,"name":"uint256","nodeType":"ElementaryTypeName","src":"2616:7:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2615:9:19"},"scope":22093,"src":"2555:245:19","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":22033,"nodeType":"Block","src":"3023:231:19","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":22011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":22007,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21997,"src":"3043:5:19","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":22006,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3037:5:19","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":22005,"name":"bytes","nodeType":"ElementaryTypeName","src":"3037:5:19","typeDescriptions":{}}},"id":22008,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3037:12:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":22009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3050:6:19","memberName":"length","nodeType":"MemberAccess","src":"3037:19:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":22010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3059:2:19","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3037:24:19","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":22031,"nodeType":"Block","src":"3121:127:19","statements":[{"expression":{"id":22024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":22020,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21999,"src":"3161:5:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":22017,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22277,"src":"3135:11:19","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$22277_$","typeString":"type(library StorageSlot)"}},"id":22019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3147:13:19","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":22254,"src":"3135:25:19","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$22185_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":22021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3135:32:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$22185_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":22022,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3168:5:19","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":22184,"src":"3135:38:19","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":22023,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21997,"src":"3176:5:19","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3135:46:19","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":22025,"nodeType":"ExpressionStatement","src":"3135:46:19"},{"expression":{"arguments":[{"id":22028,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21886,"src":"3219:17:19","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":22026,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21882,"src":"3202:11:19","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"type(ShortString)"}},"id":22027,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3214:4:19","memberName":"wrap","nodeType":"MemberAccess","src":"3202:16:19","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":22029,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3202:35:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"functionReturnParameters":22004,"id":22030,"nodeType":"Return","src":"3195:42:19"}]},"id":22032,"nodeType":"IfStatement","src":"3033:215:19","trueBody":{"id":22016,"nodeType":"Block","src":"3063:52:19","statements":[{"expression":{"arguments":[{"id":22013,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21997,"src":"3098:5:19","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":22012,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21936,"src":"3084:13:19","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":22014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3084:20:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"functionReturnParameters":22004,"id":22015,"nodeType":"Return","src":"3077:27:19"}]}}]},"documentation":{"id":21995,"nodeType":"StructuredDocumentation","src":"2806:103:19","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"id":22034,"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2923:25:19","nodeType":"FunctionDefinition","parameters":{"id":22000,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21997,"mutability":"mutable","name":"value","nameLocation":"2963:5:19","nodeType":"VariableDeclaration","scope":22034,"src":"2949:19:19","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":21996,"name":"string","nodeType":"ElementaryTypeName","src":"2949:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":21999,"mutability":"mutable","name":"store","nameLocation":"2985:5:19","nodeType":"VariableDeclaration","scope":22034,"src":"2970:20:19","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":21998,"name":"string","nodeType":"ElementaryTypeName","src":"2970:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2948:43:19"},"returnParameters":{"id":22004,"nodeType":"ParameterList","parameters":[{"constant":false,"id":22003,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":22034,"src":"3010:11:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"},"typeName":{"id":22002,"nodeType":"UserDefinedTypeName","pathNode":{"id":22001,"name":"ShortString","nameLocations":["3010:11:19"],"nodeType":"IdentifierPath","referencedDeclaration":21882,"src":"3010:11:19"},"referencedDeclaration":21882,"src":"3010:11:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"visibility":"internal"}],"src":"3009:13:19"},"scope":22093,"src":"2914:340:19","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":22060,"nodeType":"Block","src":"3494:158:19","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":22050,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":22047,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22038,"src":"3527:5:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}],"expression":{"id":22045,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21882,"src":"3508:11:19","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"type(ShortString)"}},"id":22046,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3520:6:19","memberName":"unwrap","nodeType":"MemberAccess","src":"3508:18:19","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$21882_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":22048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3508:25:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":22049,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21886,"src":"3537:17:19","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3508:46:19","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":22058,"nodeType":"Block","src":"3609:37:19","statements":[{"expression":{"id":22056,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22040,"src":"3630:5:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":22044,"id":22057,"nodeType":"Return","src":"3623:12:19"}]},"id":22059,"nodeType":"IfStatement","src":"3504:142:19","trueBody":{"id":22055,"nodeType":"Block","src":"3556:47:19","statements":[{"expression":{"arguments":[{"id":22052,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22038,"src":"3586:5:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}],"id":22051,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21962,"src":"3577:8:19","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$21882_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":22053,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3577:15:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":22044,"id":22054,"nodeType":"Return","src":"3570:22:19"}]}}]},"documentation":{"id":22035,"nodeType":"StructuredDocumentation","src":"3260:120:19","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"id":22061,"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3394:20:19","nodeType":"FunctionDefinition","parameters":{"id":22041,"nodeType":"ParameterList","parameters":[{"constant":false,"id":22038,"mutability":"mutable","name":"value","nameLocation":"3427:5:19","nodeType":"VariableDeclaration","scope":22061,"src":"3415:17:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"},"typeName":{"id":22037,"nodeType":"UserDefinedTypeName","pathNode":{"id":22036,"name":"ShortString","nameLocations":["3415:11:19"],"nodeType":"IdentifierPath","referencedDeclaration":21882,"src":"3415:11:19"},"referencedDeclaration":21882,"src":"3415:11:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":22040,"mutability":"mutable","name":"store","nameLocation":"3449:5:19","nodeType":"VariableDeclaration","scope":22061,"src":"3434:20:19","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":22039,"name":"string","nodeType":"ElementaryTypeName","src":"3434:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3414:41:19"},"returnParameters":{"id":22044,"nodeType":"ParameterList","parameters":[{"constant":false,"id":22043,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":22061,"src":"3479:13:19","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":22042,"name":"string","nodeType":"ElementaryTypeName","src":"3479:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3478:15:19"},"scope":22093,"src":"3385:267:19","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":22091,"nodeType":"Block","src":"4132:174:19","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":22077,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":22074,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22065,"src":"4165:5:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}],"expression":{"id":22072,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21882,"src":"4146:11:19","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$21882_$","typeString":"type(ShortString)"}},"id":22073,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4158:6:19","memberName":"unwrap","nodeType":"MemberAccess","src":"4146:18:19","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$21882_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":22075,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4146:25:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":22076,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21886,"src":"4175:17:19","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4146:46:19","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":22089,"nodeType":"Block","src":"4249:51:19","statements":[{"expression":{"expression":{"arguments":[{"id":22085,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22067,"src":"4276:5:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":22084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4270:5:19","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":22083,"name":"bytes","nodeType":"ElementaryTypeName","src":"4270:5:19","typeDescriptions":{}}},"id":22086,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4270:12:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":22087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4283:6:19","memberName":"length","nodeType":"MemberAccess","src":"4270:19:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":22071,"id":22088,"nodeType":"Return","src":"4263:26:19"}]},"id":22090,"nodeType":"IfStatement","src":"4142:158:19","trueBody":{"id":22082,"nodeType":"Block","src":"4194:49:19","statements":[{"expression":{"arguments":[{"id":22079,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22065,"src":"4226:5:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}],"id":22078,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":21994,"src":"4215:10:19","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$21882_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":22080,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4215:17:19","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":22071,"id":22081,"nodeType":"Return","src":"4208:24:19"}]}}]},"documentation":{"id":22062,"nodeType":"StructuredDocumentation","src":"3658:364:19","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using\n {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"id":22092,"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4036:22:19","nodeType":"FunctionDefinition","parameters":{"id":22068,"nodeType":"ParameterList","parameters":[{"constant":false,"id":22065,"mutability":"mutable","name":"value","nameLocation":"4071:5:19","nodeType":"VariableDeclaration","scope":22092,"src":"4059:17:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"},"typeName":{"id":22064,"nodeType":"UserDefinedTypeName","pathNode":{"id":22063,"name":"ShortString","nameLocations":["4059:11:19"],"nodeType":"IdentifierPath","referencedDeclaration":21882,"src":"4059:11:19"},"referencedDeclaration":21882,"src":"4059:11:19","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$21882","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":22067,"mutability":"mutable","name":"store","nameLocation":"4093:5:19","nodeType":"VariableDeclaration","scope":22092,"src":"4078:20:19","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":22066,"name":"string","nodeType":"ElementaryTypeName","src":"4078:6:19","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4058:41:19"},"returnParameters":{"id":22071,"nodeType":"ParameterList","parameters":[{"constant":false,"id":22070,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":22092,"src":"4123:7:19","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":22069,"name":"uint256","nodeType":"ElementaryTypeName","src":"4123:7:19","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4122:9:19"},"scope":22093,"src":"4027:279:19","stateMutability":"view","virtual":false,"visibility":"internal"}],"scope":22094,"src":"1255:3053:19","usedErrors":[21890,21892],"usedEvents":[]}],"src":"106:4203:19"}