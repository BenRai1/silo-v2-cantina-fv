{"absolutePath":"silo-core/contracts/lib/SiloMathLib.sol","exportedSymbols":{"ISilo":[3232],"Math":[14284],"Rounding":[6954],"SiloMathLib":[9627]},"id":9628,"license":"BUSL-1.1","nodeType":"SourceUnit","nodes":[{"id":8904,"literals":["solidity","^","0.8",".28"],"nodeType":"PragmaDirective","src":"37:24:59"},{"absolutePath":"/home/benrai/folder/Audits Code/2025-01-14 silo-v2-cantina-fv_ISSUE/gitmodules/openzeppelin-contracts-5/contracts/utils/math/Math.sol","file":"openzeppelin5/utils/math/Math.sol","id":8906,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":9628,"sourceUnit":14285,"src":"63:55:59","symbolAliases":[{"foreign":{"id":8905,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14284,"src":"71:4:59","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/Rounding.sol","file":"../lib/Rounding.sol","id":8908,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":9628,"sourceUnit":6955,"src":"119:45:59","symbolAliases":[{"foreign":{"id":8907,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"127:8:59","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/ISilo.sol","file":"../interfaces/ISilo.sol","id":8910,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":9628,"sourceUnit":3233,"src":"165:46:59","symbolAliases":[{"foreign":{"id":8909,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"173:5:59","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"abstract":false,"baseContracts":[],"canonicalName":"SiloMathLib","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"id":9627,"linearizedBaseContracts":[9627],"name":"SiloMathLib","nameLocation":"221:11:59","nodeType":"ContractDefinition","nodes":[{"global":false,"id":8913,"libraryName":{"id":8911,"name":"Math","nameLocations":["245:4:59"],"nodeType":"IdentifierPath","referencedDeclaration":14284,"src":"245:4:59"},"nodeType":"UsingForDirective","src":"239:23:59","typeName":{"id":8912,"name":"uint256","nodeType":"ElementaryTypeName","src":"254:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":8916,"mutability":"constant","name":"_PRECISION_DECIMALS","nameLocation":"294:19:59","nodeType":"VariableDeclaration","scope":9627,"src":"268:52:59","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8914,"name":"uint256","nodeType":"ElementaryTypeName","src":"268:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":8915,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"316:4:59","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"internal"},{"constant":true,"id":8919,"mutability":"constant","name":"_DECIMALS_OFFSET","nameLocation":"353:16:59","nodeType":"VariableDeclaration","scope":9627,"src":"327:46:59","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8917,"name":"uint256","nodeType":"ElementaryTypeName","src":"327:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"33","id":8918,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"372:1:59","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},"visibility":"internal"},{"constant":true,"documentation":{"id":8920,"nodeType":"StructuredDocumentation","src":"380:107:59","text":"@dev this is constant version of openzeppelin5/contracts/token/ERC20/extensions/ERC4626._decimalsOffset"},"id":8925,"mutability":"constant","name":"_DECIMALS_OFFSET_POW","nameLocation":"518:20:59","nodeType":"VariableDeclaration","scope":9627,"src":"492:71:59","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8921,"name":"uint256","nodeType":"ElementaryTypeName","src":"492:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8924,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":8922,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"541:2:59","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"id":8923,"name":"_DECIMALS_OFFSET","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8919,"src":"547:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"541:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"body":{"id":8947,"nodeType":"Block","src":"1005:175:59","statements":[{"id":8946,"nodeType":"UncheckedBlock","src":"1015:159:59","statements":[{"expression":{"id":8944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8935,"name":"liquidAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8933,"src":"1079:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8936,"name":"_debtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8930,"src":"1094:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":8937,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8928,"src":"1108:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1094:31:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8940,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8928,"src":"1132:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":8941,"name":"_debtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8930,"src":"1152:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1132:31:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"1094:69:59","trueExpression":{"hexValue":"30","id":8939,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1128:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1079:84:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8945,"nodeType":"ExpressionStatement","src":"1079:84:59"}]}]},"documentation":{"id":8926,"nodeType":"StructuredDocumentation","src":"570:318:59","text":"@notice Returns available liquidity to be borrowed\n @dev Accrued interest is entirely added to `debtAssets` but only part of it is added to `collateralAssets`. The\n      difference is DAO's and deployer's cut. That means DAO's and deployer's cut is not considered a borrowable\n      liquidity."},"id":8948,"implemented":true,"kind":"function","modifiers":[],"name":"liquidity","nameLocation":"902:9:59","nodeType":"FunctionDefinition","parameters":{"id":8931,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8928,"mutability":"mutable","name":"_collateralAssets","nameLocation":"920:17:59","nodeType":"VariableDeclaration","scope":8948,"src":"912:25:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8927,"name":"uint256","nodeType":"ElementaryTypeName","src":"912:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8930,"mutability":"mutable","name":"_debtAssets","nameLocation":"947:11:59","nodeType":"VariableDeclaration","scope":8948,"src":"939:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8929,"name":"uint256","nodeType":"ElementaryTypeName","src":"939:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"911:48:59"},"returnParameters":{"id":8934,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8933,"mutability":"mutable","name":"liquidAssets","nameLocation":"991:12:59","nodeType":"VariableDeclaration","scope":8948,"src":"983:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8932,"name":"uint256","nodeType":"ElementaryTypeName","src":"983:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"982:22:59"},"scope":9627,"src":"893:287:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9029,"nodeType":"Block","src":"2383:942:59","statements":[{"expression":{"id":8977,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8970,"name":"debtAssetsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8964,"src":"2394:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8971,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8968,"src":"2418:15:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8972,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2393:41:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8974,"name":"_debtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8953,"src":"2464:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8975,"name":"_rcomp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8955,"src":"2477:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8973,"name":"getDebtAmountsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9084,"src":"2437:26:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256,uint256)"}},"id":8976,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2437:47:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"2393:91:59","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8978,"nodeType":"ExpressionStatement","src":"2393:91:59"},{"assignments":[8980],"declarations":[{"constant":false,"id":8980,"mutability":"mutable","name":"fees","nameLocation":"2503:4:59","nodeType":"VariableDeclaration","scope":9029,"src":"2495:12:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8979,"name":"uint256","nodeType":"ElementaryTypeName","src":"2495:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8981,"nodeType":"VariableDeclarationStatement","src":"2495:12:59"},{"id":8988,"nodeType":"UncheckedBlock","src":"2613:44:59","statements":[{"expression":{"id":8986,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8982,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8980,"src":"2625:4:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8983,"name":"_daoFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8957,"src":"2632:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":8984,"name":"_deployerFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8959,"src":"2642:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2632:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2625:29:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8987,"nodeType":"ExpressionStatement","src":"2625:29:59"}]},{"expression":{"id":8995,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8989,"name":"daoAndDeployerRevenue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8966,"src":"2667:21:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8991,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8968,"src":"2706:15:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8992,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8980,"src":"2723:4:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8993,"name":"_PRECISION_DECIMALS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8916,"src":"2729:19:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8990,"name":"mulDivOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9580,"src":"2691:14:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":8994,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2691:58:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2667:82:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8996,"nodeType":"ExpressionStatement","src":"2667:82:59"},{"assignments":[8998],"declarations":[{"constant":false,"id":8998,"mutability":"mutable","name":"collateralInterest","nameLocation":"2859:18:59","nodeType":"VariableDeclaration","scope":9029,"src":"2851:26:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8997,"name":"uint256","nodeType":"ElementaryTypeName","src":"2851:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9002,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8999,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8968,"src":"2880:15:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":9000,"name":"daoAndDeployerRevenue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8966,"src":"2898:21:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2880:39:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2851:68:59"},{"assignments":[9004],"declarations":[{"constant":false,"id":9004,"mutability":"mutable","name":"cap","nameLocation":"3007:3:59","nodeType":"VariableDeclaration","scope":9029,"src":"2999:11:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9003,"name":"uint256","nodeType":"ElementaryTypeName","src":"2999:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9012,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":9007,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3018:7:59","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":9006,"name":"uint256","nodeType":"ElementaryTypeName","src":"3018:7:59","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":9005,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"3013:4:59","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":9008,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3013:13:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":9009,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3027:3:59","memberName":"max","nodeType":"MemberAccess","src":"3013:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":9010,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8951,"src":"3033:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3013:37:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2999:51:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9013,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9004,"src":"3065:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":9014,"name":"collateralInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8998,"src":"3071:18:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3065:24:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9021,"nodeType":"IfStatement","src":"3061:121:59","trueBody":{"id":9020,"nodeType":"Block","src":"3091:91:59","statements":[{"expression":{"id":9018,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9016,"name":"collateralInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8998,"src":"3147:18:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9017,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9004,"src":"3168:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3147:24:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9019,"nodeType":"ExpressionStatement","src":"3147:24:59"}]}},{"id":9028,"nodeType":"UncheckedBlock","src":"3234:85:59","statements":[{"expression":{"id":9026,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9022,"name":"collateralAssetsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8962,"src":"3247:28:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9023,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8951,"src":"3278:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":9024,"name":"collateralInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8998,"src":"3298:18:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3278:38:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3247:69:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9027,"nodeType":"ExpressionStatement","src":"3247:69:59"}]}]},"documentation":{"id":8949,"nodeType":"StructuredDocumentation","src":"1186:766:59","text":"@notice Calculate collateral assets with accrued interest and associated fees\n @param _collateralAssets The total amount of collateral assets\n @param _debtAssets The total amount of debt assets\n @param _rcomp Compound interest rate for debt\n @param _daoFee The fee (in 18 decimals points) to be taken for the DAO\n @param _deployerFee The fee (in 18 decimals points) to be taken for the deployer\n @return collateralAssetsWithInterest The total collateral assets including the accrued interest\n @return debtAssetsWithInterest The debt assets with accrued interest\n @return daoAndDeployerRevenue Total fees amount to be split between DAO and deployer\n @return accruedInterest The total accrued interest"},"id":9030,"implemented":true,"kind":"function","modifiers":[],"name":"getCollateralAmountsWithInterest","nameLocation":"1966:32:59","nodeType":"FunctionDefinition","parameters":{"id":8960,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8951,"mutability":"mutable","name":"_collateralAssets","nameLocation":"2016:17:59","nodeType":"VariableDeclaration","scope":9030,"src":"2008:25:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8950,"name":"uint256","nodeType":"ElementaryTypeName","src":"2008:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8953,"mutability":"mutable","name":"_debtAssets","nameLocation":"2051:11:59","nodeType":"VariableDeclaration","scope":9030,"src":"2043:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8952,"name":"uint256","nodeType":"ElementaryTypeName","src":"2043:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8955,"mutability":"mutable","name":"_rcomp","nameLocation":"2080:6:59","nodeType":"VariableDeclaration","scope":9030,"src":"2072:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8954,"name":"uint256","nodeType":"ElementaryTypeName","src":"2072:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8957,"mutability":"mutable","name":"_daoFee","nameLocation":"2104:7:59","nodeType":"VariableDeclaration","scope":9030,"src":"2096:15:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8956,"name":"uint256","nodeType":"ElementaryTypeName","src":"2096:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8959,"mutability":"mutable","name":"_deployerFee","nameLocation":"2129:12:59","nodeType":"VariableDeclaration","scope":9030,"src":"2121:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8958,"name":"uint256","nodeType":"ElementaryTypeName","src":"2121:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1998:149:59"},"returnParameters":{"id":8969,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8962,"mutability":"mutable","name":"collateralAssetsWithInterest","nameLocation":"2216:28:59","nodeType":"VariableDeclaration","scope":9030,"src":"2208:36:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8961,"name":"uint256","nodeType":"ElementaryTypeName","src":"2208:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8964,"mutability":"mutable","name":"debtAssetsWithInterest","nameLocation":"2266:22:59","nodeType":"VariableDeclaration","scope":9030,"src":"2258:30:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8963,"name":"uint256","nodeType":"ElementaryTypeName","src":"2258:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8966,"mutability":"mutable","name":"daoAndDeployerRevenue","nameLocation":"2310:21:59","nodeType":"VariableDeclaration","scope":9030,"src":"2302:29:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8965,"name":"uint256","nodeType":"ElementaryTypeName","src":"2302:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8968,"mutability":"mutable","name":"accruedInterest","nameLocation":"2353:15:59","nodeType":"VariableDeclaration","scope":9030,"src":"2345:23:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8967,"name":"uint256","nodeType":"ElementaryTypeName","src":"2345:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2194:184:59"},"scope":9627,"src":"1957:1368:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9083,"nodeType":"Block","src":"3970:652:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":9048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9042,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9033,"src":"3984:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9043,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4004:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3984:21:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9045,"name":"_rcomp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9035,"src":"4009:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9046,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4019:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4009:11:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3984:36:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9054,"nodeType":"IfStatement","src":"3980:95:59","trueBody":{"id":9053,"nodeType":"Block","src":"4022:53:59","statements":[{"expression":{"components":[{"id":9049,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9033,"src":"4044:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":9050,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4062:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":9051,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4043:21:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_rational_0_by_1_$","typeString":"tuple(uint256,int_const 0)"}},"functionReturnParameters":9041,"id":9052,"nodeType":"Return","src":"4036:28:59"}]}},{"expression":{"id":9061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9055,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9040,"src":"4085:15:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9057,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9033,"src":"4118:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9058,"name":"_rcomp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9035,"src":"4136:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9059,"name":"_PRECISION_DECIMALS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8916,"src":"4144:19:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":9056,"name":"mulDivOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9580,"src":"4103:14:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":9060,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4103:61:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4085:79:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9062,"nodeType":"ExpressionStatement","src":"4085:79:59"},{"id":9082,"nodeType":"UncheckedBlock","src":"4176:440:59","statements":[{"expression":{"id":9067,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9063,"name":"debtAssetsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9038,"src":"4312:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9066,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9064,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9033,"src":"4337:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":9065,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9040,"src":"4356:15:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4337:34:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4312:59:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9068,"nodeType":"ExpressionStatement","src":"4312:59:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9071,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9069,"name":"debtAssetsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9038,"src":"4452:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":9070,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9033,"src":"4477:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4452:41:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9081,"nodeType":"IfStatement","src":"4448:158:59","trueBody":{"id":9080,"nodeType":"Block","src":"4495:111:59","statements":[{"expression":{"id":9074,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9072,"name":"debtAssetsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9038,"src":"4513:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9073,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9033,"src":"4538:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4513:41:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9075,"nodeType":"ExpressionStatement","src":"4513:41:59"},{"expression":{"id":9078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9076,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9040,"src":"4572:15:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":9077,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4590:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4572:19:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9079,"nodeType":"ExpressionStatement","src":"4572:19:59"}]}}]}]},"documentation":{"id":9031,"nodeType":"StructuredDocumentation","src":"3331:448:59","text":"@notice Calculate the debt assets with accrued interest, it should never revert with over/under flow\n @param _totalDebtAssets The total amount of debt assets before accrued interest\n @param _rcomp Compound interest rate for the debt in 18 decimal precision\n @return debtAssetsWithInterest The debt assets including the accrued interest\n @return accruedInterest The total amount of interest accrued on the debt assets"},"id":9084,"implemented":true,"kind":"function","modifiers":[],"name":"getDebtAmountsWithInterest","nameLocation":"3793:26:59","nodeType":"FunctionDefinition","parameters":{"id":9036,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9033,"mutability":"mutable","name":"_totalDebtAssets","nameLocation":"3828:16:59","nodeType":"VariableDeclaration","scope":9084,"src":"3820:24:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9032,"name":"uint256","nodeType":"ElementaryTypeName","src":"3820:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9035,"mutability":"mutable","name":"_rcomp","nameLocation":"3854:6:59","nodeType":"VariableDeclaration","scope":9084,"src":"3846:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9034,"name":"uint256","nodeType":"ElementaryTypeName","src":"3846:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3819:42:59"},"returnParameters":{"id":9041,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9038,"mutability":"mutable","name":"debtAssetsWithInterest","nameLocation":"3917:22:59","nodeType":"VariableDeclaration","scope":9084,"src":"3909:30:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9037,"name":"uint256","nodeType":"ElementaryTypeName","src":"3909:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9040,"mutability":"mutable","name":"accruedInterest","nameLocation":"3949:15:59","nodeType":"VariableDeclaration","scope":9084,"src":"3941:23:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9039,"name":"uint256","nodeType":"ElementaryTypeName","src":"3941:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3908:57:59"},"scope":9627,"src":"3784:838:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9146,"nodeType":"Block","src":"5380:678:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":9106,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":9102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9098,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9096,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9089,"src":"5394:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9097,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5415:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5394:22:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9101,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9099,"name":"_debtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9091,"src":"5420:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9100,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5435:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5420:16:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5394:42:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9103,"name":"_dp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9087,"src":"5440:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9104,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5447:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5440:8:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5394:54:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9109,"nodeType":"IfStatement","src":"5390:68:59","trueBody":{"expression":{"hexValue":"30","id":9107,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5457:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":9095,"id":9108,"nodeType":"Return","src":"5450:8:59"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":9112,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5729:7:59","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":9111,"name":"uint256","nodeType":"ElementaryTypeName","src":"5729:7:59","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":9110,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"5724:4:59","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":9113,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5724:13:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":9114,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5738:3:59","memberName":"max","nodeType":"MemberAccess","src":"5724:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":9115,"name":"_dp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9087,"src":"5744:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5724:23:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9117,"name":"_debtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9091,"src":"5750:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":9118,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9089,"src":"5764:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5750:31:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5724:57:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":9144,"nodeType":"Block","src":"5978:74:59","statements":[{"expression":{"id":9142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9140,"name":"utilization","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9094,"src":"6024:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9141,"name":"_dp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9087,"src":"6038:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6024:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9143,"nodeType":"ExpressionStatement","src":"6024:17:59"}]},"id":9145,"nodeType":"IfStatement","src":"5720:332:59","trueBody":{"id":9139,"nodeType":"Block","src":"5783:189:59","statements":[{"expression":{"id":9129,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9121,"name":"utilization","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9094,"src":"5797:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9124,"name":"_dp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9087,"src":"5830:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9125,"name":"_collateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9089,"src":"5835:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":9126,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"5854:8:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":9127,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5863:16:59","memberName":"ACCRUED_INTEREST","nodeType":"MemberAccess","referencedDeclaration":6953,"src":"5854:25:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"id":9122,"name":"_debtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9091,"src":"5811:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5823:6:59","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"5811:18:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":9128,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5811:69:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5797:83:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9130,"nodeType":"ExpressionStatement","src":"5797:83:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9131,"name":"utilization","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9094,"src":"5925:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":9132,"name":"_dp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9087,"src":"5939:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5925:17:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9138,"nodeType":"IfStatement","src":"5921:40:59","trueBody":{"expression":{"id":9136,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9134,"name":"utilization","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9094,"src":"5944:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9135,"name":"_dp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9087,"src":"5958:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5944:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9137,"nodeType":"ExpressionStatement","src":"5944:17:59"}}]}}]},"documentation":{"id":9085,"nodeType":"StructuredDocumentation","src":"4628:584:59","text":"@notice Calculates fraction between borrowed and deposited amount of tokens denominated in percentage\n @dev It assumes `_dp` = 100%.\n @param _dp decimal points used by model\n @param _collateralAssets current total deposits for assets\n @param _debtAssets current total borrows for assets\n @return utilization value, capped to 100%\n Limiting utilization ratio by 100% max will allows us to perform better interest rate computations\n and should not affect any other part of protocol. It is possible to go over 100% only when bad debt."},"id":9147,"implemented":true,"kind":"function","modifiers":[],"name":"calculateUtilization","nameLocation":"5226:20:59","nodeType":"FunctionDefinition","parameters":{"id":9092,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9087,"mutability":"mutable","name":"_dp","nameLocation":"5255:3:59","nodeType":"VariableDeclaration","scope":9147,"src":"5247:11:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9086,"name":"uint256","nodeType":"ElementaryTypeName","src":"5247:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9089,"mutability":"mutable","name":"_collateralAssets","nameLocation":"5268:17:59","nodeType":"VariableDeclaration","scope":9147,"src":"5260:25:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9088,"name":"uint256","nodeType":"ElementaryTypeName","src":"5260:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9091,"mutability":"mutable","name":"_debtAssets","nameLocation":"5295:11:59","nodeType":"VariableDeclaration","scope":9147,"src":"5287:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9090,"name":"uint256","nodeType":"ElementaryTypeName","src":"5287:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5246:61:59"},"returnParameters":{"id":9095,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9094,"mutability":"mutable","name":"utilization","nameLocation":"5363:11:59","nodeType":"VariableDeclaration","scope":9147,"src":"5355:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9093,"name":"uint256","nodeType":"ElementaryTypeName","src":"5355:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5354:21:59"},"scope":9627,"src":"5217:841:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9242,"nodeType":"Block","src":"6388:602:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9171,"name":"_assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9149,"src":"6402:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9172,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6413:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6402:12:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9207,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9151,"src":"6693:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9208,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6704:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6693:12:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":9239,"nodeType":"Block","src":"6920:64:59","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":9234,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"6941:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6947:24:59","memberName":"InputCanBeAssetsOrShares","nodeType":"MemberAccess","referencedDeclaration":2796,"src":"6941:30:59","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":9237,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6941:32:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":9238,"nodeType":"RevertStatement","src":"6934:39:59"}]},"id":9240,"nodeType":"IfStatement","src":"6689:295:59","trueBody":{"id":9233,"nodeType":"Block","src":"6707:207:59","statements":[{"expression":{"id":9218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9210,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9169,"src":"6721:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9212,"name":"_assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9149,"src":"6746:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9213,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9153,"src":"6755:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9214,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9155,"src":"6769:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9215,"name":"_roundingToShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9161,"src":"6783:17:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"id":9216,"name":"_assetType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9164,"src":"6802:10:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"id":9211,"name":"convertToShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9287,"src":"6730:15:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256)"}},"id":9217,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6730:83:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6721:92:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9219,"nodeType":"ExpressionStatement","src":"6721:92:59"},{"expression":{"id":9222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9220,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9167,"src":"6827:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9221,"name":"_assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9149,"src":"6836:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6827:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9223,"nodeType":"ExpressionStatement","src":"6827:16:59"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9225,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9169,"src":"6865:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":9226,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6875:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6865:11:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":9228,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"6878:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6884:16:59","memberName":"ReturnZeroShares","nodeType":"MemberAccess","referencedDeclaration":2808,"src":"6878:22:59","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":9230,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6878:24:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":9224,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"6857:7:59","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":9231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6857:46:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":9232,"nodeType":"ExpressionStatement","src":"6857:46:59"}]}},"id":9241,"nodeType":"IfStatement","src":"6398:586:59","trueBody":{"id":9206,"nodeType":"Block","src":"6416:267:59","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9175,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9151,"src":"6438:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":9176,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6449:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6438:12:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":9178,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"6452:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6458:15:59","memberName":"InputZeroShares","nodeType":"MemberAccess","referencedDeclaration":2804,"src":"6452:21:59","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":9180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6452:23:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":9174,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"6430:7:59","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":9181,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6430:46:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":9182,"nodeType":"ExpressionStatement","src":"6430:46:59"},{"expression":{"id":9185,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9183,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9169,"src":"6490:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9184,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9151,"src":"6499:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6490:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9186,"nodeType":"ExpressionStatement","src":"6490:16:59"},{"expression":{"id":9195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9187,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9167,"src":"6520:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9189,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9151,"src":"6545:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9190,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9153,"src":"6554:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9191,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9155,"src":"6568:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9192,"name":"_roundingToAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9158,"src":"6582:17:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"id":9193,"name":"_assetType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9164,"src":"6601:10:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"id":9188,"name":"convertToAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9331,"src":"6529:15:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256)"}},"id":9194,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6529:83:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6520:92:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9196,"nodeType":"ExpressionStatement","src":"6520:92:59"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9198,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9167,"src":"6634:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":9199,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6644:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6634:11:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":9201,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"6647:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6653:16:59","memberName":"ReturnZeroAssets","nodeType":"MemberAccess","referencedDeclaration":2806,"src":"6647:22:59","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":9203,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6647:24:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":9197,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"6626:7:59","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":9204,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6626:46:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":9205,"nodeType":"ExpressionStatement","src":"6626:46:59"}]}}]},"id":9243,"implemented":true,"kind":"function","modifiers":[],"name":"convertToAssetsOrToShares","nameLocation":"6073:25:59","nodeType":"FunctionDefinition","parameters":{"id":9165,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9149,"mutability":"mutable","name":"_assets","nameLocation":"6116:7:59","nodeType":"VariableDeclaration","scope":9243,"src":"6108:15:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9148,"name":"uint256","nodeType":"ElementaryTypeName","src":"6108:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9151,"mutability":"mutable","name":"_shares","nameLocation":"6141:7:59","nodeType":"VariableDeclaration","scope":9243,"src":"6133:15:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9150,"name":"uint256","nodeType":"ElementaryTypeName","src":"6133:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9153,"mutability":"mutable","name":"_totalAssets","nameLocation":"6166:12:59","nodeType":"VariableDeclaration","scope":9243,"src":"6158:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9152,"name":"uint256","nodeType":"ElementaryTypeName","src":"6158:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9155,"mutability":"mutable","name":"_totalShares","nameLocation":"6196:12:59","nodeType":"VariableDeclaration","scope":9243,"src":"6188:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9154,"name":"uint256","nodeType":"ElementaryTypeName","src":"6188:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9158,"mutability":"mutable","name":"_roundingToAssets","nameLocation":"6232:17:59","nodeType":"VariableDeclaration","scope":9243,"src":"6218:31:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},"typeName":{"id":9157,"nodeType":"UserDefinedTypeName","pathNode":{"id":9156,"name":"Math.Rounding","nameLocations":["6218:4:59","6223:8:59"],"nodeType":"IdentifierPath","referencedDeclaration":12744,"src":"6218:13:59"},"referencedDeclaration":12744,"src":"6218:13:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},"visibility":"internal"},{"constant":false,"id":9161,"mutability":"mutable","name":"_roundingToShares","nameLocation":"6273:17:59","nodeType":"VariableDeclaration","scope":9243,"src":"6259:31:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},"typeName":{"id":9160,"nodeType":"UserDefinedTypeName","pathNode":{"id":9159,"name":"Math.Rounding","nameLocations":["6259:4:59","6264:8:59"],"nodeType":"IdentifierPath","referencedDeclaration":12744,"src":"6259:13:59"},"referencedDeclaration":12744,"src":"6259:13:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},"visibility":"internal"},{"constant":false,"id":9164,"mutability":"mutable","name":"_assetType","nameLocation":"6316:10:59","nodeType":"VariableDeclaration","scope":9243,"src":"6300:26:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"},"typeName":{"id":9163,"nodeType":"UserDefinedTypeName","pathNode":{"id":9162,"name":"ISilo.AssetType","nameLocations":["6300:5:59","6306:9:59"],"nodeType":"IdentifierPath","referencedDeclaration":2634,"src":"6300:15:59"},"referencedDeclaration":2634,"src":"6300:15:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"visibility":"internal"}],"src":"6098:234:59"},"returnParameters":{"id":9170,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9167,"mutability":"mutable","name":"assets","nameLocation":"6364:6:59","nodeType":"VariableDeclaration","scope":9243,"src":"6356:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9166,"name":"uint256","nodeType":"ElementaryTypeName","src":"6356:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9169,"mutability":"mutable","name":"shares","nameLocation":"6380:6:59","nodeType":"VariableDeclaration","scope":9243,"src":"6372:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9168,"name":"uint256","nodeType":"ElementaryTypeName","src":"6372:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6355:32:59"},"scope":9627,"src":"6064:926:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9286,"nodeType":"Block","src":"7355:433:59","statements":[{"assignments":[9262,9264],"declarations":[{"constant":false,"id":9262,"mutability":"mutable","name":"totalShares","nameLocation":"7374:11:59","nodeType":"VariableDeclaration","scope":9286,"src":"7366:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9261,"name":"uint256","nodeType":"ElementaryTypeName","src":"7366:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9264,"mutability":"mutable","name":"totalAssets","nameLocation":"7395:11:59","nodeType":"VariableDeclaration","scope":9286,"src":"7387:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9263,"name":"uint256","nodeType":"ElementaryTypeName","src":"7387:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9270,"initialValue":{"arguments":[{"id":9266,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9248,"src":"7427:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9267,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9250,"src":"7441:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9268,"name":"_assetType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9256,"src":"7455:10:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"id":9265,"name":"_commonConvertTo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9626,"src":"7410:16:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,enum ISilo.AssetType) pure returns (uint256,uint256)"}},"id":9269,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7410:56:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"7365:101:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9271,"name":"totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9262,"src":"7678:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9272,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7693:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7678:16:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9276,"nodeType":"IfStatement","src":"7674:36:59","trueBody":{"expression":{"id":9274,"name":"_assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9246,"src":"7703:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":9260,"id":9275,"nodeType":"Return","src":"7696:14:59"}},{"expression":{"id":9284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9277,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9259,"src":"7721:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9280,"name":"totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9262,"src":"7745:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9281,"name":"totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9264,"src":"7758:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9282,"name":"_rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9253,"src":"7771:9:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"id":9278,"name":"_assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9246,"src":"7730:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7738:6:59","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"7730:14:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":9283,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7730:51:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7721:60:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9285,"nodeType":"ExpressionStatement","src":"7721:60:59"}]},"documentation":{"id":9244,"nodeType":"StructuredDocumentation","src":"6996:130:59","text":"@dev Math for collateral is exact copy of\n      openzeppelin5/contracts/token/ERC20/extensions/ERC4626._convertToShares"},"id":9287,"implemented":true,"kind":"function","modifiers":[],"name":"convertToShares","nameLocation":"7140:15:59","nodeType":"FunctionDefinition","parameters":{"id":9257,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9246,"mutability":"mutable","name":"_assets","nameLocation":"7173:7:59","nodeType":"VariableDeclaration","scope":9287,"src":"7165:15:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9245,"name":"uint256","nodeType":"ElementaryTypeName","src":"7165:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9248,"mutability":"mutable","name":"_totalAssets","nameLocation":"7198:12:59","nodeType":"VariableDeclaration","scope":9287,"src":"7190:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9247,"name":"uint256","nodeType":"ElementaryTypeName","src":"7190:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9250,"mutability":"mutable","name":"_totalShares","nameLocation":"7228:12:59","nodeType":"VariableDeclaration","scope":9287,"src":"7220:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9249,"name":"uint256","nodeType":"ElementaryTypeName","src":"7220:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9253,"mutability":"mutable","name":"_rounding","nameLocation":"7264:9:59","nodeType":"VariableDeclaration","scope":9287,"src":"7250:23:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},"typeName":{"id":9252,"nodeType":"UserDefinedTypeName","pathNode":{"id":9251,"name":"Math.Rounding","nameLocations":["7250:4:59","7255:8:59"],"nodeType":"IdentifierPath","referencedDeclaration":12744,"src":"7250:13:59"},"referencedDeclaration":12744,"src":"7250:13:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},"visibility":"internal"},{"constant":false,"id":9256,"mutability":"mutable","name":"_assetType","nameLocation":"7299:10:59","nodeType":"VariableDeclaration","scope":9287,"src":"7283:26:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"},"typeName":{"id":9255,"nodeType":"UserDefinedTypeName","pathNode":{"id":9254,"name":"ISilo.AssetType","nameLocations":["7283:5:59","7289:9:59"],"nodeType":"IdentifierPath","referencedDeclaration":2634,"src":"7283:15:59"},"referencedDeclaration":2634,"src":"7283:15:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"visibility":"internal"}],"src":"7155:160:59"},"returnParameters":{"id":9260,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9259,"mutability":"mutable","name":"shares","nameLocation":"7347:6:59","nodeType":"VariableDeclaration","scope":9287,"src":"7339:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9258,"name":"uint256","nodeType":"ElementaryTypeName","src":"7339:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7338:16:59"},"scope":9627,"src":"7131:657:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9330,"nodeType":"Block","src":"8153:480:59","statements":[{"assignments":[9306,9308],"declarations":[{"constant":false,"id":9306,"mutability":"mutable","name":"totalShares","nameLocation":"8172:11:59","nodeType":"VariableDeclaration","scope":9330,"src":"8164:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9305,"name":"uint256","nodeType":"ElementaryTypeName","src":"8164:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9308,"mutability":"mutable","name":"totalAssets","nameLocation":"8193:11:59","nodeType":"VariableDeclaration","scope":9330,"src":"8185:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9307,"name":"uint256","nodeType":"ElementaryTypeName","src":"8185:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9314,"initialValue":{"arguments":[{"id":9310,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9292,"src":"8225:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9311,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9294,"src":"8239:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9312,"name":"_assetType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9300,"src":"8253:10:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"id":9309,"name":"_commonConvertTo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9626,"src":"8208:16:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,enum ISilo.AssetType) pure returns (uint256,uint256)"}},"id":9313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8208:56:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"8163:101:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9317,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9315,"name":"totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9306,"src":"8491:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9316,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8506:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8491:16:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9320,"nodeType":"IfStatement","src":"8487:36:59","trueBody":{"expression":{"id":9318,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9290,"src":"8516:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":9304,"id":9319,"nodeType":"Return","src":"8509:14:59"}},{"expression":{"id":9328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9321,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9303,"src":"8534:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9324,"name":"totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9308,"src":"8558:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9325,"name":"totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9306,"src":"8571:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9326,"name":"_rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9297,"src":"8584:9:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"id":9322,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9290,"src":"8543:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8551:6:59","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"8543:14:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":9327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8543:51:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8534:60:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9329,"nodeType":"ExpressionStatement","src":"8534:60:59"}]},"documentation":{"id":9288,"nodeType":"StructuredDocumentation","src":"7794:130:59","text":"@dev Math for collateral is exact copy of\n      openzeppelin5/contracts/token/ERC20/extensions/ERC4626._convertToAssets"},"id":9331,"implemented":true,"kind":"function","modifiers":[],"name":"convertToAssets","nameLocation":"7938:15:59","nodeType":"FunctionDefinition","parameters":{"id":9301,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9290,"mutability":"mutable","name":"_shares","nameLocation":"7971:7:59","nodeType":"VariableDeclaration","scope":9331,"src":"7963:15:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9289,"name":"uint256","nodeType":"ElementaryTypeName","src":"7963:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9292,"mutability":"mutable","name":"_totalAssets","nameLocation":"7996:12:59","nodeType":"VariableDeclaration","scope":9331,"src":"7988:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9291,"name":"uint256","nodeType":"ElementaryTypeName","src":"7988:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9294,"mutability":"mutable","name":"_totalShares","nameLocation":"8026:12:59","nodeType":"VariableDeclaration","scope":9331,"src":"8018:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9293,"name":"uint256","nodeType":"ElementaryTypeName","src":"8018:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9297,"mutability":"mutable","name":"_rounding","nameLocation":"8062:9:59","nodeType":"VariableDeclaration","scope":9331,"src":"8048:23:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},"typeName":{"id":9296,"nodeType":"UserDefinedTypeName","pathNode":{"id":9295,"name":"Math.Rounding","nameLocations":["8048:4:59","8053:8:59"],"nodeType":"IdentifierPath","referencedDeclaration":12744,"src":"8048:13:59"},"referencedDeclaration":12744,"src":"8048:13:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},"visibility":"internal"},{"constant":false,"id":9300,"mutability":"mutable","name":"_assetType","nameLocation":"8097:10:59","nodeType":"VariableDeclaration","scope":9331,"src":"8081:26:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"},"typeName":{"id":9299,"nodeType":"UserDefinedTypeName","pathNode":{"id":9298,"name":"ISilo.AssetType","nameLocations":["8081:5:59","8087:9:59"],"nodeType":"IdentifierPath","referencedDeclaration":2634,"src":"8081:15:59"},"referencedDeclaration":2634,"src":"8081:15:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"visibility":"internal"}],"src":"7953:160:59"},"returnParameters":{"id":9304,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9303,"mutability":"mutable","name":"assets","nameLocation":"8145:6:59","nodeType":"VariableDeclaration","scope":9331,"src":"8137:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9302,"name":"uint256","nodeType":"ElementaryTypeName","src":"8137:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8136:16:59"},"scope":9627,"src":"7929:704:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9372,"nodeType":"Block","src":"9162:476:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9345,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9343,"name":"_sumOfBorrowerCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9336,"src":"9176:29:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9344,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9209:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9176:34:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9349,"nodeType":"IfStatement","src":"9172:73:59","trueBody":{"id":9348,"nodeType":"Block","src":"9212:33:59","statements":[{"expression":{"hexValue":"30","id":9346,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9233:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":9342,"id":9347,"nodeType":"Return","src":"9226:8:59"}]}},{"assignments":[9351],"declarations":[{"constant":false,"id":9351,"mutability":"mutable","name":"maxDebtValue","nameLocation":"9263:12:59","nodeType":"VariableDeclaration","scope":9372,"src":"9255:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9350,"name":"uint256","nodeType":"ElementaryTypeName","src":"9255:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9359,"initialValue":{"arguments":[{"id":9354,"name":"_collateralMaxLtv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9334,"src":"9328:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9355,"name":"_PRECISION_DECIMALS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8916,"src":"9347:19:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":9356,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"9368:8:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":9357,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9377:16:59","memberName":"MAX_BORROW_VALUE","nodeType":"MemberAccess","referencedDeclaration":6883,"src":"9368:25:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"id":9352,"name":"_sumOfBorrowerCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9336,"src":"9278:29:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9308:6:59","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"9278:36:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":9358,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9278:125:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9255:148:59"},{"id":9371,"nodeType":"UncheckedBlock","src":"9414:218:59","statements":[{"expression":{"id":9369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9360,"name":"maxBorrowValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9341,"src":"9531:14:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9361,"name":"maxDebtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9351,"src":"9548:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":9362,"name":"_borrowerDebtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9338,"src":"9563:18:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9548:33:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"hexValue":"30","id":9367,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9620:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"id":9368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"9548:73:59","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9364,"name":"maxDebtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9351,"src":"9584:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":9365,"name":"_borrowerDebtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9338,"src":"9599:18:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9584:33:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9531:90:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9370,"nodeType":"ExpressionStatement","src":"9531:90:59"}]}]},"documentation":{"id":9332,"nodeType":"StructuredDocumentation","src":"8639:314:59","text":"@param _collateralMaxLtv maxLTV in 18 decimals that is set for debt asset\n @param _sumOfBorrowerCollateralValue borrower total collateral value (including protected)\n @param _borrowerDebtValue total value of borrower debt\n @return maxBorrowValue max borrow value yet available for borrower"},"id":9373,"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxBorrowValue","nameLocation":"8967:23:59","nodeType":"FunctionDefinition","parameters":{"id":9339,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9334,"mutability":"mutable","name":"_collateralMaxLtv","nameLocation":"9008:17:59","nodeType":"VariableDeclaration","scope":9373,"src":"9000:25:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9333,"name":"uint256","nodeType":"ElementaryTypeName","src":"9000:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9336,"mutability":"mutable","name":"_sumOfBorrowerCollateralValue","nameLocation":"9043:29:59","nodeType":"VariableDeclaration","scope":9373,"src":"9035:37:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9335,"name":"uint256","nodeType":"ElementaryTypeName","src":"9035:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9338,"mutability":"mutable","name":"_borrowerDebtValue","nameLocation":"9090:18:59","nodeType":"VariableDeclaration","scope":9373,"src":"9082:26:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9337,"name":"uint256","nodeType":"ElementaryTypeName","src":"9082:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8990:124:59"},"returnParameters":{"id":9342,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9341,"mutability":"mutable","name":"maxBorrowValue","nameLocation":"9146:14:59","nodeType":"VariableDeclaration","scope":9373,"src":"9138:22:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9340,"name":"uint256","nodeType":"ElementaryTypeName","src":"9138:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9137:24:59"},"scope":9627,"src":"8958:680:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9447,"nodeType":"Block","src":"10522:911:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9389,"name":"_sumOfCollateralsValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9376,"src":"10536:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9390,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10562:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10536:27:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9394,"nodeType":"IfStatement","src":"10532:41:59","trueBody":{"expression":{"hexValue":"30","id":9392,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10572:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":9388,"id":9393,"nodeType":"Return","src":"10565:8:59"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9397,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9395,"name":"_debtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9378,"src":"10587:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9396,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10601:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10587:15:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9400,"nodeType":"IfStatement","src":"10583:50:59","trueBody":{"expression":{"id":9398,"name":"_sumOfCollateralsValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9376,"src":"10611:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":9388,"id":9399,"nodeType":"Return","src":"10604:29:59"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9403,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9401,"name":"_lt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9380,"src":"10647:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9402,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10654:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10647:8:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9406,"nodeType":"IfStatement","src":"10643:22:59","trueBody":{"expression":{"hexValue":"30","id":9404,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10664:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":9388,"id":9405,"nodeType":"Return","src":"10657:8:59"}},{"assignments":[9408],"declarations":[{"constant":false,"id":9408,"mutability":"mutable","name":"minimumCollateralValue","nameLocation":"10797:22:59","nodeType":"VariableDeclaration","scope":9447,"src":"10789:30:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9407,"name":"uint256","nodeType":"ElementaryTypeName","src":"10789:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9416,"initialValue":{"arguments":[{"id":9411,"name":"_PRECISION_DECIMALS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8916,"src":"10840:19:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9412,"name":"_lt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9380,"src":"10861:3:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":9413,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"10866:8:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":9414,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10875:3:59","memberName":"LTV","nodeType":"MemberAccess","referencedDeclaration":6946,"src":"10866:12:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"id":9409,"name":"_debtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9378,"src":"10822:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10833:6:59","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"10822:17:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":9415,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10822:57:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10789:90:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9419,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9417,"name":"_sumOfCollateralsValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9376,"src":"10940:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":9418,"name":"minimumCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9408,"src":"10966:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10940:48:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9423,"nodeType":"IfStatement","src":"10936:87:59","trueBody":{"id":9422,"nodeType":"Block","src":"10990:33:59","statements":[{"expression":{"hexValue":"30","id":9420,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11011:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":9388,"id":9421,"nodeType":"Return","src":"11004:8:59"}]}},{"assignments":[9425],"declarations":[{"constant":false,"id":9425,"mutability":"mutable","name":"spareCollateralValue","nameLocation":"11041:20:59","nodeType":"VariableDeclaration","scope":9447,"src":"11033:28:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9424,"name":"uint256","nodeType":"ElementaryTypeName","src":"11033:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":9426,"nodeType":"VariableDeclarationStatement","src":"11033:28:59"},{"id":9433,"nodeType":"UncheckedBlock","src":"11162:85:59","statements":[{"expression":{"id":9431,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9427,"name":"spareCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9425,"src":"11174:20:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9428,"name":"_sumOfCollateralsValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9376,"src":"11197:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":9429,"name":"minimumCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9408,"src":"11222:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11197:47:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11174:70:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9432,"nodeType":"ExpressionStatement","src":"11174:70:59"}]},{"expression":{"id":9445,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9434,"name":"maxAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9387,"src":"11257:9:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9440,"name":"spareCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9425,"src":"11348:20:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9441,"name":"_sumOfCollateralsValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9376,"src":"11370:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":9442,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"11394:8:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":9443,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11403:22:59","memberName":"MAX_WITHDRAW_TO_ASSETS","nodeType":"MemberAccess","referencedDeclaration":6925,"src":"11394:31:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9435,"name":"_borrowerProtectedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9384,"src":"11270:24:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":9436,"name":"_borrowerCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9382,"src":"11297:25:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11270:52:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":9438,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11269:54:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11341:6:59","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"11269:78:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":9444,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11269:157:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11257:169:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9446,"nodeType":"ExpressionStatement","src":"11257:169:59"}]},"documentation":{"id":9374,"nodeType":"StructuredDocumentation","src":"9644:613:59","text":"@notice Calculate the maximum assets a borrower can withdraw without breaching the liquidation threshold\n @param _sumOfCollateralsValue The combined value of collateral and protected assets of the borrower\n @param _debtValue The total debt value of the borrower\n @param _lt The liquidation threshold in 18 decimal points\n @param _borrowerCollateralAssets The borrower's collateral assets before the withdrawal\n @param _borrowerProtectedAssets The borrower's protected assets before the withdrawal\n @return maxAssets The maximum assets the borrower can safely withdraw"},"id":9448,"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxAssetsToWithdraw","nameLocation":"10271:28:59","nodeType":"FunctionDefinition","parameters":{"id":9385,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9376,"mutability":"mutable","name":"_sumOfCollateralsValue","nameLocation":"10317:22:59","nodeType":"VariableDeclaration","scope":9448,"src":"10309:30:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9375,"name":"uint256","nodeType":"ElementaryTypeName","src":"10309:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9378,"mutability":"mutable","name":"_debtValue","nameLocation":"10357:10:59","nodeType":"VariableDeclaration","scope":9448,"src":"10349:18:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9377,"name":"uint256","nodeType":"ElementaryTypeName","src":"10349:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9380,"mutability":"mutable","name":"_lt","nameLocation":"10385:3:59","nodeType":"VariableDeclaration","scope":9448,"src":"10377:11:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9379,"name":"uint256","nodeType":"ElementaryTypeName","src":"10377:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9382,"mutability":"mutable","name":"_borrowerCollateralAssets","nameLocation":"10406:25:59","nodeType":"VariableDeclaration","scope":9448,"src":"10398:33:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9381,"name":"uint256","nodeType":"ElementaryTypeName","src":"10398:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9384,"mutability":"mutable","name":"_borrowerProtectedAssets","nameLocation":"10449:24:59","nodeType":"VariableDeclaration","scope":9448,"src":"10441:32:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9383,"name":"uint256","nodeType":"ElementaryTypeName","src":"10441:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10299:180:59"},"returnParameters":{"id":9388,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9387,"mutability":"mutable","name":"maxAssets","nameLocation":"10511:9:59","nodeType":"VariableDeclaration","scope":9448,"src":"10503:17:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9386,"name":"uint256","nodeType":"ElementaryTypeName","src":"10503:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10502:19:59"},"scope":9627,"src":"10262:1171:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9540,"nodeType":"Block","src":"12772:751:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9471,"name":"_maxAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9451,"src":"12786:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9472,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12800:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12786:15:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9478,"nodeType":"IfStatement","src":"12782:34:59","trueBody":{"expression":{"components":[{"hexValue":"30","id":9474,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12811:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":9475,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12814:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":9476,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"12810:6:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":9470,"id":9477,"nodeType":"Return","src":"12803:13:59"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9479,"name":"_assetTypeShareTokenTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9462,"src":"12830:31:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9480,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12865:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12830:36:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9486,"nodeType":"IfStatement","src":"12826:55:59","trueBody":{"expression":{"components":[{"hexValue":"30","id":9482,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12876:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":9483,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12879:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":9484,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"12875:6:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":9470,"id":9485,"nodeType":"Return","src":"12868:13:59"}},{"condition":{"commonType":{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"},"id":9491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9487,"name":"_collateralType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9458,"src":"12896:15:59","typeDescriptions":{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":9488,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"12915:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9489,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12921:14:59","memberName":"CollateralType","nodeType":"MemberAccess","referencedDeclaration":2638,"src":"12915:20:59","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CollateralType_$2638_$","typeString":"type(enum ISilo.CollateralType)"}},"id":9490,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12936:10:59","memberName":"Collateral","nodeType":"MemberAccess","referencedDeclaration":2637,"src":"12915:31:59","typeDescriptions":{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"}},"src":"12896:50:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":9520,"nodeType":"Block","src":"13158:111:59","statements":[{"expression":{"id":9518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9511,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9467,"src":"13172:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9512,"name":"_maxAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9451,"src":"13181:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":9513,"name":"_borrowerProtectedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9455,"src":"13194:24:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13181:37:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":9516,"name":"_maxAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9451,"src":"13248:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"13181:77:59","trueExpression":{"id":9515,"name":"_borrowerProtectedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9455,"src":"13221:24:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13172:86:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9519,"nodeType":"ExpressionStatement","src":"13172:86:59"}]},"id":9521,"nodeType":"IfStatement","src":"12892:377:59","trueBody":{"id":9510,"nodeType":"Block","src":"12948:204:59","statements":[{"expression":{"id":9499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9492,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9467,"src":"12962:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9495,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9493,"name":"_maxAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9451,"src":"12971:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":9494,"name":"_borrowerCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9453,"src":"12984:25:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12971:38:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":9497,"name":"_maxAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9451,"src":"13040:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"12971:79:59","trueExpression":{"id":9496,"name":"_borrowerCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9453,"src":"13012:25:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12962:88:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9500,"nodeType":"ExpressionStatement","src":"12962:88:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9501,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9467,"src":"13069:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":9502,"name":"_liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9464,"src":"13078:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13069:19:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9509,"nodeType":"IfStatement","src":"13065:77:59","trueBody":{"id":9508,"nodeType":"Block","src":"13090:52:59","statements":[{"expression":{"id":9506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9504,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9467,"src":"13108:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":9505,"name":"_liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9464,"src":"13117:10:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13108:19:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9507,"nodeType":"ExpressionStatement","src":"13108:19:59"}]}}]}},{"expression":{"id":9538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9522,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9469,"src":"13279:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":9525,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9467,"src":"13329:6:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9526,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9460,"src":"13349:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9527,"name":"_assetTypeShareTokenTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9462,"src":"13375:31:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":9528,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"13420:8:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":9529,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"13429:22:59","memberName":"MAX_WITHDRAW_TO_SHARES","nodeType":"MemberAccess","referencedDeclaration":6932,"src":"13420:31:59","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"arguments":[{"arguments":[{"id":9534,"name":"_collateralType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9458,"src":"13489:15:59","typeDescriptions":{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"}],"id":9533,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"13481:7:59","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":9532,"name":"uint256","nodeType":"ElementaryTypeName","src":"13481:7:59","typeDescriptions":{}}},"id":9535,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13481:24:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":9530,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"13465:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13471:9:59","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"13465:15:59","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":9536,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13465:41:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":9523,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"13288:11:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":9524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13300:15:59","memberName":"convertToShares","nodeType":"MemberAccess","referencedDeclaration":9287,"src":"13288:27:59","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256)"}},"id":9537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13288:228:59","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13279:237:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9539,"nodeType":"ExpressionStatement","src":"13279:237:59"}]},"documentation":{"id":9449,"nodeType":"StructuredDocumentation","src":"11439:963:59","text":"@notice Determines the maximum number of assets and corresponding shares a borrower can safely withdraw\n @param _maxAssets The calculated limit on how many assets can be withdrawn without breaching the liquidation\n threshold\n @param _borrowerCollateralAssets Amount of collateral assets currently held by the borrower\n @param _borrowerProtectedAssets Amount of protected assets currently held by the borrower\n @param _collateralType Specifies whether the asset is of type Collateral or Protected\n @param _totalAssets The entire quantity of assets available in the system for withdrawal\n @param _assetTypeShareTokenTotalSupply Total supply of share tokens for the specified asset type\n @param _liquidity Current liquidity in the system for the asset type\n @return assets Maximum assets the borrower can withdraw\n @return shares Corresponding number of shares for the derived `assets` amount"},"id":9541,"implemented":true,"kind":"function","modifiers":[],"name":"maxWithdrawToAssetsAndShares","nameLocation":"12416:28:59","nodeType":"FunctionDefinition","parameters":{"id":9465,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9451,"mutability":"mutable","name":"_maxAssets","nameLocation":"12462:10:59","nodeType":"VariableDeclaration","scope":9541,"src":"12454:18:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9450,"name":"uint256","nodeType":"ElementaryTypeName","src":"12454:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9453,"mutability":"mutable","name":"_borrowerCollateralAssets","nameLocation":"12490:25:59","nodeType":"VariableDeclaration","scope":9541,"src":"12482:33:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9452,"name":"uint256","nodeType":"ElementaryTypeName","src":"12482:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9455,"mutability":"mutable","name":"_borrowerProtectedAssets","nameLocation":"12533:24:59","nodeType":"VariableDeclaration","scope":9541,"src":"12525:32:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9454,"name":"uint256","nodeType":"ElementaryTypeName","src":"12525:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9458,"mutability":"mutable","name":"_collateralType","nameLocation":"12588:15:59","nodeType":"VariableDeclaration","scope":9541,"src":"12567:36:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"},"typeName":{"id":9457,"nodeType":"UserDefinedTypeName","pathNode":{"id":9456,"name":"ISilo.CollateralType","nameLocations":["12567:5:59","12573:14:59"],"nodeType":"IdentifierPath","referencedDeclaration":2638,"src":"12567:20:59"},"referencedDeclaration":2638,"src":"12567:20:59","typeDescriptions":{"typeIdentifier":"t_enum$_CollateralType_$2638","typeString":"enum ISilo.CollateralType"}},"visibility":"internal"},{"constant":false,"id":9460,"mutability":"mutable","name":"_totalAssets","nameLocation":"12621:12:59","nodeType":"VariableDeclaration","scope":9541,"src":"12613:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9459,"name":"uint256","nodeType":"ElementaryTypeName","src":"12613:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9462,"mutability":"mutable","name":"_assetTypeShareTokenTotalSupply","nameLocation":"12651:31:59","nodeType":"VariableDeclaration","scope":9541,"src":"12643:39:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9461,"name":"uint256","nodeType":"ElementaryTypeName","src":"12643:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9464,"mutability":"mutable","name":"_liquidity","nameLocation":"12700:10:59","nodeType":"VariableDeclaration","scope":9541,"src":"12692:18:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9463,"name":"uint256","nodeType":"ElementaryTypeName","src":"12692:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12444:272:59"},"returnParameters":{"id":9470,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9467,"mutability":"mutable","name":"assets","nameLocation":"12748:6:59","nodeType":"VariableDeclaration","scope":9541,"src":"12740:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9466,"name":"uint256","nodeType":"ElementaryTypeName","src":"12740:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9469,"mutability":"mutable","name":"shares","nameLocation":"12764:6:59","nodeType":"VariableDeclaration","scope":9541,"src":"12756:14:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9468,"name":"uint256","nodeType":"ElementaryTypeName","src":"12756:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12739:32:59"},"scope":9627,"src":"12407:1116:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9579,"nodeType":"Block","src":"13770:244:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9553,"name":"_a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9544,"src":"13784:2:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9554,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13790:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13784:7:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9559,"nodeType":"IfStatement","src":"13780:23:59","trueBody":{"expression":{"components":[{"hexValue":"30","id":9556,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13801:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":9557,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"13800:3:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}},"functionReturnParameters":9552,"id":9558,"nodeType":"Return","src":"13793:10:59"}},{"id":9578,"nodeType":"UncheckedBlock","src":"13814:194:59","statements":[{"expression":{"id":9564,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9560,"name":"mulDivResult","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9551,"src":"13891:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9561,"name":"_a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9544,"src":"13906:2:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":9562,"name":"_b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9546,"src":"13911:2:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13906:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13891:22:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9565,"nodeType":"ExpressionStatement","src":"13891:22:59"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9566,"name":"mulDivResult","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9551,"src":"13931:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":9567,"name":"_a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9544,"src":"13946:2:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13931:17:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":9569,"name":"_b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9546,"src":"13952:2:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13931:23:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9573,"nodeType":"IfStatement","src":"13927:37:59","trueBody":{"expression":{"hexValue":"30","id":9571,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13963:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":9552,"id":9572,"nodeType":"Return","src":"13956:8:59"}},{"expression":{"id":9576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9574,"name":"mulDivResult","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9551,"src":"13979:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"id":9575,"name":"_c","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9548,"src":"13995:2:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13979:18:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9577,"nodeType":"ExpressionStatement","src":"13979:18:59"}]}]},"documentation":{"id":9542,"nodeType":"StructuredDocumentation","src":"13529:103:59","text":"@dev executed `_a * _b / _c`, reverts on _c == 0\n @return mulDivResult on overflow returns 0"},"id":9580,"implemented":true,"kind":"function","modifiers":[],"name":"mulDivOverflow","nameLocation":"13646:14:59","nodeType":"FunctionDefinition","parameters":{"id":9549,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9544,"mutability":"mutable","name":"_a","nameLocation":"13669:2:59","nodeType":"VariableDeclaration","scope":9580,"src":"13661:10:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9543,"name":"uint256","nodeType":"ElementaryTypeName","src":"13661:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9546,"mutability":"mutable","name":"_b","nameLocation":"13681:2:59","nodeType":"VariableDeclaration","scope":9580,"src":"13673:10:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9545,"name":"uint256","nodeType":"ElementaryTypeName","src":"13673:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9548,"mutability":"mutable","name":"_c","nameLocation":"13693:2:59","nodeType":"VariableDeclaration","scope":9580,"src":"13685:10:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9547,"name":"uint256","nodeType":"ElementaryTypeName","src":"13685:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13660:36:59"},"returnParameters":{"id":9552,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9551,"mutability":"mutable","name":"mulDivResult","nameLocation":"13752:12:59","nodeType":"VariableDeclaration","scope":9580,"src":"13744:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9550,"name":"uint256","nodeType":"ElementaryTypeName","src":"13744:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13743:22:59"},"scope":9627,"src":"13637:377:59","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":9625,"nodeType":"Block","src":"14392:699:59","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9595,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9585,"src":"14406:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":9596,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14422:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14406:17:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":9603,"nodeType":"IfStatement","src":"14402:410:59","trueBody":{"id":9602,"nodeType":"Block","src":"14425:387:59","statements":[{"expression":{"id":9600,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":9598,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9583,"src":"14785:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":9599,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14800:1:59","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14785:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9601,"nodeType":"ExpressionStatement","src":"14785:16:59"}]}},{"expression":{"id":9623,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":9604,"name":"totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9591,"src":"14827:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9605,"name":"totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9593,"src":"14840:11:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":9606,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"14826:26:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"},"id":9611,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9607,"name":"_assetType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9588,"src":"14855:10:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":9608,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"14869:5:59","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":9609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14875:9:59","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"14869:15:59","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":9610,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14885:4:59","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"14869:20:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"src":"14855:34:59","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9615,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9585,"src":"14956:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":9616,"name":"_DECIMALS_OFFSET_POW","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8925,"src":"14971:20:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14956:35:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":9620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":9618,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9583,"src":"14993:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":9619,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15008:1:59","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"14993:16:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":9621,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14955:55:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"id":9622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"14855:155:59","trueExpression":{"components":[{"id":9612,"name":"_totalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9585,"src":"14909:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":9613,"name":"_totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9583,"src":"14923:12:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":9614,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14908:28:59","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"14826:184:59","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":9624,"nodeType":"ExpressionStatement","src":"14826:184:59"}]},"documentation":{"id":9581,"nodeType":"StructuredDocumentation","src":"14020:175:59","text":"@dev Debt calculations should not lower the result. Debt is a liability so protocol should not take any for\n itself. It should return actual result and round it up."},"id":9626,"implemented":true,"kind":"function","modifiers":[],"name":"_commonConvertTo","nameLocation":"14209:16:59","nodeType":"FunctionDefinition","parameters":{"id":9589,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9583,"mutability":"mutable","name":"_totalAssets","nameLocation":"14243:12:59","nodeType":"VariableDeclaration","scope":9626,"src":"14235:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9582,"name":"uint256","nodeType":"ElementaryTypeName","src":"14235:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9585,"mutability":"mutable","name":"_totalShares","nameLocation":"14273:12:59","nodeType":"VariableDeclaration","scope":9626,"src":"14265:20:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9584,"name":"uint256","nodeType":"ElementaryTypeName","src":"14265:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9588,"mutability":"mutable","name":"_assetType","nameLocation":"14311:10:59","nodeType":"VariableDeclaration","scope":9626,"src":"14295:26:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"},"typeName":{"id":9587,"nodeType":"UserDefinedTypeName","pathNode":{"id":9586,"name":"ISilo.AssetType","nameLocations":["14295:5:59","14301:9:59"],"nodeType":"IdentifierPath","referencedDeclaration":2634,"src":"14295:15:59"},"referencedDeclaration":2634,"src":"14295:15:59","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"visibility":"internal"}],"src":"14225:102:59"},"returnParameters":{"id":9594,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9591,"mutability":"mutable","name":"totalShares","nameLocation":"14358:11:59","nodeType":"VariableDeclaration","scope":9626,"src":"14350:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9590,"name":"uint256","nodeType":"ElementaryTypeName","src":"14350:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":9593,"mutability":"mutable","name":"totalAssets","nameLocation":"14379:11:59","nodeType":"VariableDeclaration","scope":9626,"src":"14371:19:59","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9592,"name":"uint256","nodeType":"ElementaryTypeName","src":"14371:7:59","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14349:42:59"},"scope":9627,"src":"14200:891:59","stateMutability":"pure","virtual":false,"visibility":"private"}],"scope":9628,"src":"213:14880:59","usedErrors":[],"usedEvents":[]}],"src":"37:15057:59"}