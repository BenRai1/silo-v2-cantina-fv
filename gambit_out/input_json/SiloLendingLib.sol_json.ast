{"absolutePath":"silo-core/contracts/lib/SiloLendingLib.sol","exportedSymbols":{"IERC20":[2023],"IInterestRateModel":[14777],"IShareToken":[2601],"ISilo":[3232],"ISiloConfig":[3553],"ISiloOracle":[14802],"Math":[14284],"Rounding":[6954],"SafeERC20":[2446],"ShareTokenLib":[7425],"SiloLendingLib":[8902],"SiloMathLib":[9627],"SiloSolvencyLib":[12732],"SiloStdLib":[10004],"SiloStorageLib":[10020]},"id":8903,"license":"BUSL-1.1","nodeType":"SourceUnit","nodes":[{"id":8061,"literals":["solidity","^","0.8",".28"],"nodeType":"PragmaDirective","src":"37:24:58"},{"absolutePath":"/home/benrai/folder/Audits Code/2025-01-14 silo-v2-cantina-fv_ISSUE/gitmodules/openzeppelin-contracts-5/contracts/token/ERC20/utils/SafeERC20.sol","file":"openzeppelin5/token/ERC20/utils/SafeERC20.sol","id":8063,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":2447,"src":"63:72:58","symbolAliases":[{"foreign":{"id":8062,"name":"SafeERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2446,"src":"71:9:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"/home/benrai/folder/Audits Code/2025-01-14 silo-v2-cantina-fv_ISSUE/gitmodules/openzeppelin-contracts-5/contracts/token/ERC20/IERC20.sol","file":"openzeppelin5/token/ERC20/IERC20.sol","id":8065,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":2024,"src":"136:60:58","symbolAliases":[{"foreign":{"id":8064,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2023,"src":"144:6:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"/home/benrai/folder/Audits Code/2025-01-14 silo-v2-cantina-fv_ISSUE/gitmodules/openzeppelin-contracts-5/contracts/utils/math/Math.sol","file":"openzeppelin5/utils/math/Math.sol","id":8067,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":14285,"src":"197:55:58","symbolAliases":[{"foreign":{"id":8066,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14284,"src":"205:4:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/ISiloOracle.sol","file":"../interfaces/ISiloOracle.sol","id":8069,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":14803,"src":"254:58:58","symbolAliases":[{"foreign":{"id":8068,"name":"ISiloOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14802,"src":"262:11:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/ISilo.sol","file":"../interfaces/ISilo.sol","id":8071,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":3233,"src":"313:46:58","symbolAliases":[{"foreign":{"id":8070,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"321:5:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/IShareToken.sol","file":"../interfaces/IShareToken.sol","id":8073,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":2602,"src":"360:58:58","symbolAliases":[{"foreign":{"id":8072,"name":"IShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2601,"src":"368:11:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/IInterestRateModel.sol","file":"../interfaces/IInterestRateModel.sol","id":8075,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":14778,"src":"419:72:58","symbolAliases":[{"foreign":{"id":8074,"name":"IInterestRateModel","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14777,"src":"427:18:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/interfaces/ISiloConfig.sol","file":"../interfaces/ISiloConfig.sol","id":8077,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":3554,"src":"492:58:58","symbolAliases":[{"foreign":{"id":8076,"name":"ISiloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3553,"src":"500:11:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/SiloSolvencyLib.sol","file":"./SiloSolvencyLib.sol","id":8079,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":12733,"src":"551:54:58","symbolAliases":[{"foreign":{"id":8078,"name":"SiloSolvencyLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12732,"src":"559:15:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/SiloStdLib.sol","file":"./SiloStdLib.sol","id":8081,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":10005,"src":"606:44:58","symbolAliases":[{"foreign":{"id":8080,"name":"SiloStdLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10004,"src":"614:10:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/SiloMathLib.sol","file":"./SiloMathLib.sol","id":8083,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":9628,"src":"651:46:58","symbolAliases":[{"foreign":{"id":8082,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"659:11:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/Rounding.sol","file":"./Rounding.sol","id":8085,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":6955,"src":"698:40:58","symbolAliases":[{"foreign":{"id":8084,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"706:8:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/ShareTokenLib.sol","file":"./ShareTokenLib.sol","id":8087,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":7426,"src":"739:50:58","symbolAliases":[{"foreign":{"id":8086,"name":"ShareTokenLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7425,"src":"747:13:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"absolutePath":"silo-core/contracts/lib/SiloStorageLib.sol","file":"./SiloStorageLib.sol","id":8089,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":8903,"sourceUnit":10021,"src":"790:52:58","symbolAliases":[{"foreign":{"id":8088,"name":"SiloStorageLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10020,"src":"798:14:58","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"abstract":false,"baseContracts":[],"canonicalName":"SiloLendingLib","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"id":8902,"linearizedBaseContracts":[8902],"name":"SiloLendingLib","nameLocation":"852:14:58","nodeType":"ContractDefinition","nodes":[{"global":false,"id":8093,"libraryName":{"id":8090,"name":"SafeERC20","nameLocations":["879:9:58"],"nodeType":"IdentifierPath","referencedDeclaration":2446,"src":"879:9:58"},"nodeType":"UsingForDirective","src":"873:27:58","typeName":{"id":8092,"nodeType":"UserDefinedTypeName","pathNode":{"id":8091,"name":"IERC20","nameLocations":["893:6:58"],"nodeType":"IdentifierPath","referencedDeclaration":2023,"src":"893:6:58"},"referencedDeclaration":2023,"src":"893:6:58","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$2023","typeString":"contract IERC20"}}},{"global":false,"id":8096,"libraryName":{"id":8094,"name":"Math","nameLocations":["911:4:58"],"nodeType":"IdentifierPath","referencedDeclaration":14284,"src":"911:4:58"},"nodeType":"UsingForDirective","src":"905:23:58","typeName":{"id":8095,"name":"uint256","nodeType":"ElementaryTypeName","src":"920:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":8099,"mutability":"constant","name":"_PRECISION_DECIMALS","nameLocation":"960:19:58","nodeType":"VariableDeclaration","scope":8902,"src":"934:52:58","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8097,"name":"uint256","nodeType":"ElementaryTypeName","src":"934:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":8098,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"982:4:58","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"internal"},{"body":{"id":8236,"nodeType":"Block","src":"1867:1913:58","statements":[{"assignments":[8124],"declarations":[{"constant":false,"id":8124,"mutability":"mutable","name":"$","nameLocation":"1903:1:58","nodeType":"VariableDeclaration","scope":8236,"src":"1877:27:58","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage"},"typeName":{"id":8123,"nodeType":"UserDefinedTypeName","pathNode":{"id":8122,"name":"ISilo.SiloStorage","nameLocations":["1877:5:58","1883:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":2699,"src":"1877:17:58"},"referencedDeclaration":2699,"src":"1877:17:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage"}},"visibility":"internal"}],"id":8128,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8125,"name":"SiloStorageLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10020,"src":"1907:14:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloStorageLib_$10020_$","typeString":"type(library SiloStorageLib)"}},"id":8126,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1922:14:58","memberName":"getSiloStorage","nodeType":"MemberAccess","referencedDeclaration":10019,"src":"1907:29:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_SiloStorage_$2699_storage_ptr_$","typeString":"function () pure returns (struct ISilo.SiloStorage storage pointer)"}},"id":8127,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1907:31:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"1877:61:58"},{"assignments":[8130],"declarations":[{"constant":false,"id":8130,"mutability":"mutable","name":"totalDebtAssets","nameLocation":"1957:15:58","nodeType":"VariableDeclaration","scope":8236,"src":"1949:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8129,"name":"uint256","nodeType":"ElementaryTypeName","src":"1949:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8137,"initialValue":{"baseExpression":{"expression":{"id":8131,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8124,"src":"1975:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8132,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1977:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"1975:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8136,"indexExpression":{"expression":{"expression":{"id":8133,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"1989:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1995:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"1989:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8135,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2005:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"1989:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1975:35:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1949:61:58"},{"assignments":[8139,8141],"declarations":[{"constant":false,"id":8139,"mutability":"mutable","name":"debtSharesBalance","nameLocation":"2029:17:58","nodeType":"VariableDeclaration","scope":8236,"src":"2021:25:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8138,"name":"uint256","nodeType":"ElementaryTypeName","src":"2021:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8141,"mutability":"mutable","name":"totalDebtShares","nameLocation":"2056:15:58","nodeType":"VariableDeclaration","scope":8236,"src":"2048:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8140,"name":"uint256","nodeType":"ElementaryTypeName","src":"2048:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8146,"initialValue":{"arguments":[{"id":8144,"name":"_borrower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8111,"src":"2115:9:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8142,"name":"_debtShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8103,"src":"2075:15:58","typeDescriptions":{"typeIdentifier":"t_contract$_IShareToken_$2601","typeString":"contract IShareToken"}},"id":8143,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2091:23:58","memberName":"balanceOfAndTotalSupply","nodeType":"MemberAccess","referencedDeclaration":2574,"src":"2075:39:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address) view external returns (uint256,uint256)"}},"id":8145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2075:50:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2020:105:58"},{"expression":{"id":8164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8147,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8116,"src":"2137:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8148,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8118,"src":"2145:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8149,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2136:16:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8152,"name":"_assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8107,"src":"2216:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8153,"name":"_shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8109,"src":"2246:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8154,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8130,"src":"2281:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8155,"name":"totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8141,"src":"2324:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8156,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"2372:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8157,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2381:15:58","memberName":"REPAY_TO_ASSETS","nodeType":"MemberAccess","referencedDeclaration":6890,"src":"2372:24:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"id":8158,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"2429:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8159,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2438:15:58","memberName":"REPAY_TO_SHARES","nodeType":"MemberAccess","referencedDeclaration":6897,"src":"2429:24:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"expression":{"id":8160,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"2479:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2485:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"2479:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8162,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2495:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"2479:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8150,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"2155:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8151,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2167:25:58","memberName":"convertToAssetsOrToShares","nodeType":"MemberAccess","referencedDeclaration":9243,"src":"2155:37:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,enum Math.Rounding,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256,uint256)"}},"id":8163,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["2207:7:58","2237:7:58","2267:12:58","2310:12:58","2353:17:58","2410:17:58","2467:10:58"],"names":["_assets","_shares","_totalAssets","_totalShares","_roundingToAssets","_roundingToShares","_assetType"],"nodeType":"FunctionCall","src":"2155:355:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"2136:374:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8165,"nodeType":"ExpressionStatement","src":"2136:374:58"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8166,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8118,"src":"2525:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":8167,"name":"debtSharesBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8139,"src":"2534:17:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2525:26:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8193,"nodeType":"IfStatement","src":"2521:497:58","trueBody":{"id":8192,"nodeType":"Block","src":"2553:465:58","statements":[{"expression":{"id":8171,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8169,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8118,"src":"2567:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":8170,"name":"debtSharesBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8139,"src":"2576:17:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2567:26:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8172,"nodeType":"ExpressionStatement","src":"2567:26:58"},{"expression":{"id":8190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8173,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8116,"src":"2609:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8174,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8118,"src":"2617:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8175,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2608:16:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":8178,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2692:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":8179,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8118,"src":"2720:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8180,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8130,"src":"2758:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8181,"name":"totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8141,"src":"2805:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8182,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"2857:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8183,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2866:15:58","memberName":"REPAY_TO_ASSETS","nodeType":"MemberAccess","referencedDeclaration":6890,"src":"2857:24:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"id":8184,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"2918:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8185,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2927:15:58","memberName":"REPAY_TO_SHARES","nodeType":"MemberAccess","referencedDeclaration":6897,"src":"2918:24:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"expression":{"id":8186,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"2972:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2978:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"2972:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8188,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2988:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"2972:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8176,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"2627:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2639:25:58","memberName":"convertToAssetsOrToShares","nodeType":"MemberAccess","referencedDeclaration":9243,"src":"2627:37:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,enum Math.Rounding,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256,uint256)"}},"id":8189,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["2683:7:58","2711:7:58","2744:12:58","2791:12:58","2838:17:58","2899:17:58","2960:10:58"],"names":["_assets","_shares","_totalAssets","_totalShares","_roundingToAssets","_roundingToShares","_assetType"],"nodeType":"FunctionCall","src":"2627:380:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"2608:399:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8191,"nodeType":"ExpressionStatement","src":"2608:399:58"}]}},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8197,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8195,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8130,"src":"3036:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":8196,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8116,"src":"3055:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3036:25:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8198,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"3063:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3069:12:58","memberName":"RepayTooHigh","nodeType":"MemberAccess","referencedDeclaration":2800,"src":"3063:18:58","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":8200,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3063:20:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":8194,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"3028:7:58","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":8201,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3028:56:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8202,"nodeType":"ExpressionStatement","src":"3028:56:58"},{"id":8215,"nodeType":"UncheckedBlock","src":"3198:77:58","statements":[{"expression":{"id":8213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":8203,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8124,"src":"3210:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8208,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3212:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"3210:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8209,"indexExpression":{"expression":{"expression":{"id":8205,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"3224:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8206,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3230:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"3224:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8207,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3240:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"3224:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3210:35:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8210,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8130,"src":"3248:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":8211,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8116,"src":"3266:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3248:24:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3210:62:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8214,"nodeType":"ExpressionStatement","src":"3210:62:58"}]},{"expression":{"arguments":[{"id":8219,"name":"_borrower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8111,"src":"3380:9:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8220,"name":"_repayer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8113,"src":"3391:8:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8221,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8118,"src":"3401:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8216,"name":"_debtShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8103,"src":"3359:15:58","typeDescriptions":{"typeIdentifier":"t_contract$_IShareToken_$2601","typeString":"contract IShareToken"}},"id":8218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3375:4:58","memberName":"burn","nodeType":"MemberAccess","referencedDeclaration":2554,"src":"3359:20:58","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256) external"}},"id":8222,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3359:49:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8223,"nodeType":"ExpressionStatement","src":"3359:49:58"},{"expression":{"arguments":[{"id":8228,"name":"_repayer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8113,"src":"3741:8:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":8231,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3759:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8230,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3751:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8229,"name":"address","nodeType":"ElementaryTypeName","src":"3751:7:58","typeDescriptions":{}}},"id":8232,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3751:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8233,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8116,"src":"3766:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":8225,"name":"_debtAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8105,"src":"3712:10:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":8224,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2023,"src":"3705:6:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$2023_$","typeString":"type(contract IERC20)"}},"id":8226,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3705:18:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$2023","typeString":"contract IERC20"}},"id":8227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3724:16:58","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2100,"src":"3705:35:58","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$2023_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$2023_$","typeString":"function (contract IERC20,address,address,uint256)"}},"id":8234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3705:68:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8235,"nodeType":"ExpressionStatement","src":"3705:68:58"}]},"documentation":{"id":8100,"nodeType":"StructuredDocumentation","src":"993:630:58","text":"@notice Allows repaying borrowed assets either partially or in full\n @param _debtShareToken debt share token address\n @param _debtAsset underlying debt asset address\n @param _assets The amount of assets to repay. Use 0 if shares are used.\n @param _shares The number of corresponding shares associated with the debt. Use 0 if assets are used.\n @param _borrower The account that has the debt\n @param _repayer The account that is repaying the debt\n @return assets The amount of assets that was repaid\n @return shares The corresponding number of debt shares that were repaid"},"id":8237,"implemented":true,"kind":"function","modifiers":[],"name":"repay","nameLocation":"1637:5:58","nodeType":"FunctionDefinition","parameters":{"id":8114,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8103,"mutability":"mutable","name":"_debtShareToken","nameLocation":"1664:15:58","nodeType":"VariableDeclaration","scope":8237,"src":"1652:27:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IShareToken_$2601","typeString":"contract IShareToken"},"typeName":{"id":8102,"nodeType":"UserDefinedTypeName","pathNode":{"id":8101,"name":"IShareToken","nameLocations":["1652:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":2601,"src":"1652:11:58"},"referencedDeclaration":2601,"src":"1652:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_IShareToken_$2601","typeString":"contract IShareToken"}},"visibility":"internal"},{"constant":false,"id":8105,"mutability":"mutable","name":"_debtAsset","nameLocation":"1697:10:58","nodeType":"VariableDeclaration","scope":8237,"src":"1689:18:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8104,"name":"address","nodeType":"ElementaryTypeName","src":"1689:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8107,"mutability":"mutable","name":"_assets","nameLocation":"1725:7:58","nodeType":"VariableDeclaration","scope":8237,"src":"1717:15:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8106,"name":"uint256","nodeType":"ElementaryTypeName","src":"1717:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8109,"mutability":"mutable","name":"_shares","nameLocation":"1750:7:58","nodeType":"VariableDeclaration","scope":8237,"src":"1742:15:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8108,"name":"uint256","nodeType":"ElementaryTypeName","src":"1742:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8111,"mutability":"mutable","name":"_borrower","nameLocation":"1775:9:58","nodeType":"VariableDeclaration","scope":8237,"src":"1767:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8110,"name":"address","nodeType":"ElementaryTypeName","src":"1767:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8113,"mutability":"mutable","name":"_repayer","nameLocation":"1802:8:58","nodeType":"VariableDeclaration","scope":8237,"src":"1794:16:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8112,"name":"address","nodeType":"ElementaryTypeName","src":"1794:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1642:174:58"},"returnParameters":{"id":8119,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8116,"mutability":"mutable","name":"assets","nameLocation":"1843:6:58","nodeType":"VariableDeclaration","scope":8237,"src":"1835:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8115,"name":"uint256","nodeType":"ElementaryTypeName","src":"1835:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8118,"mutability":"mutable","name":"shares","nameLocation":"1859:6:58","nodeType":"VariableDeclaration","scope":8237,"src":"1851:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8117,"name":"uint256","nodeType":"ElementaryTypeName","src":"1851:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1834:32:58"},"scope":8902,"src":"1628:2152:58","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":8383,"nodeType":"Block","src":"4498:1817:58","statements":[{"assignments":[8253],"declarations":[{"constant":false,"id":8253,"mutability":"mutable","name":"$","nameLocation":"4534:1:58","nodeType":"VariableDeclaration","scope":8383,"src":"4508:27:58","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage"},"typeName":{"id":8252,"nodeType":"UserDefinedTypeName","pathNode":{"id":8251,"name":"ISilo.SiloStorage","nameLocations":["4508:5:58","4514:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":2699,"src":"4508:17:58"},"referencedDeclaration":2699,"src":"4508:17:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage"}},"visibility":"internal"}],"id":8257,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8254,"name":"SiloStorageLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10020,"src":"4538:14:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloStorageLib_$10020_$","typeString":"type(library SiloStorageLib)"}},"id":8255,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4553:14:58","memberName":"getSiloStorage","nodeType":"MemberAccess","referencedDeclaration":10019,"src":"4538:29:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_SiloStorage_$2699_storage_ptr_$","typeString":"function () pure returns (struct ISilo.SiloStorage storage pointer)"}},"id":8256,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4538:31:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"4508:61:58"},{"assignments":[8259],"declarations":[{"constant":false,"id":8259,"mutability":"mutable","name":"lastTimestamp","nameLocation":"4587:13:58","nodeType":"VariableDeclaration","scope":8383,"src":"4580:20:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":8258,"name":"uint64","nodeType":"ElementaryTypeName","src":"4580:6:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"id":8262,"initialValue":{"expression":{"id":8260,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"4603:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8261,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4605:21:58","memberName":"interestRateTimestamp","nodeType":"MemberAccess","referencedDeclaration":2692,"src":"4603:23:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"VariableDeclarationStatement","src":"4580:46:58"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8263,"name":"lastTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8259,"src":"4697:13:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":8264,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"4714:5:58","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":8265,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4720:9:58","memberName":"timestamp","nodeType":"MemberAccess","src":"4714:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4697:32:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8270,"nodeType":"IfStatement","src":"4693:71:58","trueBody":{"id":8269,"nodeType":"Block","src":"4731:33:58","statements":[{"expression":{"hexValue":"30","id":8267,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4752:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":8248,"id":8268,"nodeType":"Return","src":"4745:8:58"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":8273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8271,"name":"lastTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8259,"src":"4854:13:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8272,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4871:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4854:18:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8287,"nodeType":"IfStatement","src":"4850:120:58","trueBody":{"id":8286,"nodeType":"Block","src":"4874:96:58","statements":[{"expression":{"id":8282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8274,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"4888:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8276,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4890:21:58","memberName":"interestRateTimestamp","nodeType":"MemberAccess","referencedDeclaration":2692,"src":"4888:23:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":8279,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"4921:5:58","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":8280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4927:9:58","memberName":"timestamp","nodeType":"MemberAccess","src":"4921:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8278,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4914:6:58","typeDescriptions":{"typeIdentifier":"t_type$_t_uint64_$","typeString":"type(uint64)"},"typeName":{"id":8277,"name":"uint64","nodeType":"ElementaryTypeName","src":"4914:6:58","typeDescriptions":{}}},"id":8281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4914:23:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4888:49:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":8283,"nodeType":"ExpressionStatement","src":"4888:49:58"},{"expression":{"hexValue":"30","id":8284,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4958:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":8248,"id":8285,"nodeType":"Return","src":"4951:8:58"}]}},{"assignments":[8289],"declarations":[{"constant":false,"id":8289,"mutability":"mutable","name":"totalFees","nameLocation":"4988:9:58","nodeType":"VariableDeclaration","scope":8383,"src":"4980:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8288,"name":"uint256","nodeType":"ElementaryTypeName","src":"4980:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8290,"nodeType":"VariableDeclarationStatement","src":"4980:17:58"},{"assignments":[8292],"declarations":[{"constant":false,"id":8292,"mutability":"mutable","name":"totalCollateralAssets","nameLocation":"5015:21:58","nodeType":"VariableDeclaration","scope":8383,"src":"5007:29:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8291,"name":"uint256","nodeType":"ElementaryTypeName","src":"5007:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8299,"initialValue":{"baseExpression":{"expression":{"id":8293,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"5039:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8294,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5041:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"5039:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8298,"indexExpression":{"expression":{"expression":{"id":8295,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"5053:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5059:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"5053:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8297,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5069:10:58","memberName":"Collateral","nodeType":"MemberAccess","referencedDeclaration":2632,"src":"5053:26:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5039:41:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5007:73:58"},{"assignments":[8301],"declarations":[{"constant":false,"id":8301,"mutability":"mutable","name":"totalDebtAssets","nameLocation":"5098:15:58","nodeType":"VariableDeclaration","scope":8383,"src":"5090:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8300,"name":"uint256","nodeType":"ElementaryTypeName","src":"5090:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8308,"initialValue":{"baseExpression":{"expression":{"id":8302,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"5116:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8303,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5118:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"5116:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8307,"indexExpression":{"expression":{"expression":{"id":8304,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"5130:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8305,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5136:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"5130:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8306,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5146:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"5130:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5116:35:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5090:61:58"},{"assignments":[8310],"declarations":[{"constant":false,"id":8310,"mutability":"mutable","name":"rcomp","nameLocation":"5170:5:58","nodeType":"VariableDeclaration","scope":8383,"src":"5162:13:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8309,"name":"uint256","nodeType":"ElementaryTypeName","src":"5162:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8311,"nodeType":"VariableDeclarationStatement","src":"5162:13:58"},{"clauses":[{"block":{"id":8327,"nodeType":"Block","src":"5442:45:58","statements":[{"expression":{"id":8325,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8323,"name":"rcomp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8310,"src":"5456:5:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":8324,"name":"interestRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8321,"src":"5464:12:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5456:20:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8326,"nodeType":"ExpressionStatement","src":"5456:20:58"}]},"errorName":"","id":8328,"nodeType":"TryCatchClause","parameters":{"id":8322,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8321,"mutability":"mutable","name":"interestRate","nameLocation":"5420:12:58","nodeType":"VariableDeclaration","scope":8328,"src":"5412:20:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8320,"name":"uint256","nodeType":"ElementaryTypeName","src":"5412:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5411:22:58"},"src":"5403:84:58"},{"block":{"id":8334,"nodeType":"Block","src":"5494:129:58","statements":[{"eventCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8329,"name":"IInterestRateModel","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14777,"src":"5569:18:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IInterestRateModel_$14777_$","typeString":"type(contract IInterestRateModel)"}},"id":8331,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5588:22:58","memberName":"InterestRateModelError","nodeType":"MemberAccess","referencedDeclaration":14732,"src":"5569:41:58","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":8332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5569:43:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8333,"nodeType":"EmitStatement","src":"5564:48:58"}]},"errorName":"","id":8335,"nodeType":"TryCatchClause","src":"5488:135:58"}],"externalCall":{"arguments":[{"id":8316,"name":"totalCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8292,"src":"5291:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8317,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8301,"src":"5330:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8318,"name":"lastTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8259,"src":"5363:13:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint64","typeString":"uint64"}],"expression":{"arguments":[{"id":8313,"name":"_interestRateModel","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8240,"src":"5221:18:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":8312,"name":"IInterestRateModel","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14777,"src":"5202:18:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IInterestRateModel_$14777_$","typeString":"type(contract IInterestRateModel)"}},"id":8314,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5202:38:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IInterestRateModel_$14777","typeString":"contract IInterestRateModel"}},"id":8315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5241:32:58","memberName":"getCompoundInterestRateAndUpdate","nodeType":"MemberAccess","referencedDeclaration":14750,"src":"5202:71:58","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) external returns (uint256)"}},"id":8319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5202:188:58","tryCall":true,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8336,"nodeType":"TryStatement","src":"5186:437:58"},{"expression":{"id":8361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"baseExpression":{"expression":{"id":8337,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"5647:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8342,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5649:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"5647:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8343,"indexExpression":{"expression":{"expression":{"id":8339,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"5661:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5667:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"5661:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8341,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5677:10:58","memberName":"Collateral","nodeType":"MemberAccess","referencedDeclaration":2632,"src":"5661:26:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5647:41:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"baseExpression":{"expression":{"id":8344,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"5690:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8345,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5692:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"5690:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8349,"indexExpression":{"expression":{"expression":{"id":8346,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"5704:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5710:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"5704:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8348,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5720:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"5704:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5690:35:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8350,"name":"totalFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8289,"src":"5727:9:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8351,"name":"accruedInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8247,"src":"5738:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8352,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"5633:130:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8355,"name":"totalCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8292,"src":"5824:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8356,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8301,"src":"5859:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8357,"name":"rcomp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8310,"src":"5888:5:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8358,"name":"_daoFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8242,"src":"5907:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8359,"name":"_deployerFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8244,"src":"5928:12:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8353,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"5766:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5778:32:58","memberName":"getCollateralAmountsWithInterest","nodeType":"MemberAccess","referencedDeclaration":9030,"src":"5766:44:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256,uint256,uint256,uint256)"}},"id":8360,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5766:184:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256)"}},"src":"5633:317:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8362,"nodeType":"ExpressionStatement","src":"5633:317:58"},{"expression":{"id":8371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8363,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"6004:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8365,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6006:21:58","memberName":"interestRateTimestamp","nodeType":"MemberAccess","referencedDeclaration":2692,"src":"6004:23:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":8368,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"6037:5:58","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":8369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6043:9:58","memberName":"timestamp","nodeType":"MemberAccess","src":"6037:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8367,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6030:6:58","typeDescriptions":{"typeIdentifier":"t_type$_t_uint64_$","typeString":"type(uint64)"},"typeName":{"id":8366,"name":"uint64","nodeType":"ElementaryTypeName","src":"6030:6:58","typeDescriptions":{}}},"id":8370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6030:23:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"6004:49:58","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":8372,"nodeType":"ExpressionStatement","src":"6004:49:58"},{"id":8382,"nodeType":"UncheckedBlock","src":"6249:60:58","statements":[{"expression":{"id":8380,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8373,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8253,"src":"6261:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8375,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6263:21:58","memberName":"daoAndDeployerRevenue","nodeType":"MemberAccess","referencedDeclaration":2689,"src":"6261:23:58","typeDescriptions":{"typeIdentifier":"t_uint192","typeString":"uint192"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"id":8378,"name":"totalFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8289,"src":"6296:9:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8377,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6288:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_uint192_$","typeString":"type(uint192)"},"typeName":{"id":8376,"name":"uint192","nodeType":"ElementaryTypeName","src":"6288:7:58","typeDescriptions":{}}},"id":8379,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6288:18:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint192","typeString":"uint192"}},"src":"6261:45:58","typeDescriptions":{"typeIdentifier":"t_uint192","typeString":"uint192"}},"id":8381,"nodeType":"ExpressionStatement","src":"6261:45:58"}]}]},"documentation":{"id":8238,"nodeType":"StructuredDocumentation","src":"3786:545:58","text":"@notice Accrues interest on assets, updating the collateral and debt balances\n @dev This method will accrue interest for ONE asset ONLY, to calculate for both silos you have to call it twice\n with `_configData` for each token\n @param _interestRateModel The address of the interest rate model to calculate the compound interest rate\n @param _daoFee DAO's fee in 18 decimals points\n @param _deployerFee Deployer's fee in 18 decimals points\n @return accruedInterest The total amount of interest accrued"},"functionSelector":"e9c1bd61","id":8384,"implemented":true,"kind":"function","modifiers":[],"name":"accrueInterestForAsset","nameLocation":"4345:22:58","nodeType":"FunctionDefinition","parameters":{"id":8245,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8240,"mutability":"mutable","name":"_interestRateModel","nameLocation":"4376:18:58","nodeType":"VariableDeclaration","scope":8384,"src":"4368:26:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8239,"name":"address","nodeType":"ElementaryTypeName","src":"4368:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8242,"mutability":"mutable","name":"_daoFee","nameLocation":"4404:7:58","nodeType":"VariableDeclaration","scope":8384,"src":"4396:15:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8241,"name":"uint256","nodeType":"ElementaryTypeName","src":"4396:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8244,"mutability":"mutable","name":"_deployerFee","nameLocation":"4421:12:58","nodeType":"VariableDeclaration","scope":8384,"src":"4413:20:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8243,"name":"uint256","nodeType":"ElementaryTypeName","src":"4413:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4367:67:58"},"returnParameters":{"id":8248,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8247,"mutability":"mutable","name":"accruedInterest","nameLocation":"4477:15:58","nodeType":"VariableDeclaration","scope":8384,"src":"4469:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8246,"name":"uint256","nodeType":"ElementaryTypeName","src":"4469:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4468:25:58"},"scope":8902,"src":"4336:1979:58","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":8512,"nodeType":"Block","src":"7152:1310:58","statements":[{"assignments":[8405],"declarations":[{"constant":false,"id":8405,"mutability":"mutable","name":"$","nameLocation":"7188:1:58","nodeType":"VariableDeclaration","scope":8512,"src":"7162:27:58","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage"},"typeName":{"id":8404,"nodeType":"UserDefinedTypeName","pathNode":{"id":8403,"name":"ISilo.SiloStorage","nameLocations":["7162:5:58","7168:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":2699,"src":"7162:17:58"},"referencedDeclaration":2699,"src":"7162:17:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage"}},"visibility":"internal"}],"id":8409,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8406,"name":"SiloStorageLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10020,"src":"7192:14:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloStorageLib_$10020_$","typeString":"type(library SiloStorageLib)"}},"id":8407,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7207:14:58","memberName":"getSiloStorage","nodeType":"MemberAccess","referencedDeclaration":10019,"src":"7192:29:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_SiloStorage_$2699_storage_ptr_$","typeString":"function () pure returns (struct ISilo.SiloStorage storage pointer)"}},"id":8408,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7192:31:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"7162:61:58"},{"assignments":[8411],"declarations":[{"constant":false,"id":8411,"mutability":"mutable","name":"totalDebtAssets","nameLocation":"7242:15:58","nodeType":"VariableDeclaration","scope":8512,"src":"7234:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8410,"name":"uint256","nodeType":"ElementaryTypeName","src":"7234:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8418,"initialValue":{"baseExpression":{"expression":{"id":8412,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8405,"src":"7260:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8413,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7262:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"7260:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8417,"indexExpression":{"expression":{"expression":{"id":8414,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"7274:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8415,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7280:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"7274:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8416,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7290:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"7274:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7260:35:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7234:61:58"},{"expression":{"id":8442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8419,"name":"borrowedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8397,"src":"7307:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8420,"name":"borrowedShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8399,"src":"7323:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8421,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"7306:32:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":8424,"name":"_args","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8394,"src":"7392:5:58","typeDescriptions":{"typeIdentifier":"t_struct$_BorrowArgs_$2667_memory_ptr","typeString":"struct ISilo.BorrowArgs memory"}},"id":8425,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7398:6:58","memberName":"assets","nodeType":"MemberAccess","referencedDeclaration":2660,"src":"7392:12:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8426,"name":"_args","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8394,"src":"7418:5:58","typeDescriptions":{"typeIdentifier":"t_struct$_BorrowArgs_$2667_memory_ptr","typeString":"struct ISilo.BorrowArgs memory"}},"id":8427,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7424:6:58","memberName":"shares","nodeType":"MemberAccess","referencedDeclaration":2662,"src":"7418:12:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8428,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"7444:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":8430,"name":"_debtShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8387,"src":"7485:15:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":8429,"name":"IShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2601,"src":"7473:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IShareToken_$2601_$","typeString":"type(contract IShareToken)"}},"id":8431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7473:28:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IShareToken_$2601","typeString":"contract IShareToken"}},"id":8432,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7502:11:58","memberName":"totalSupply","nodeType":"MemberAccess","referencedDeclaration":1972,"src":"7473:40:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":8433,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7473:42:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8434,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"7529:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8435,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7538:16:58","memberName":"BORROW_TO_ASSETS","nodeType":"MemberAccess","referencedDeclaration":6855,"src":"7529:25:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"id":8436,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"7568:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8437,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7577:16:58","memberName":"BORROW_TO_SHARES","nodeType":"MemberAccess","referencedDeclaration":6862,"src":"7568:25:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"expression":{"id":8438,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"7607:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7613:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"7607:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8440,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7623:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"7607:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8422,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"7341:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7353:25:58","memberName":"convertToAssetsOrToShares","nodeType":"MemberAccess","referencedDeclaration":9243,"src":"7341:37:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,enum Math.Rounding,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256,uint256)"}},"id":8441,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7341:296:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"7306:331:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8443,"nodeType":"ExpressionStatement","src":"7306:331:58"},{"assignments":[8445],"declarations":[{"constant":false,"id":8445,"mutability":"mutable","name":"totalCollateralAssets","nameLocation":"7656:21:58","nodeType":"VariableDeclaration","scope":8512,"src":"7648:29:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8444,"name":"uint256","nodeType":"ElementaryTypeName","src":"7648:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8452,"initialValue":{"baseExpression":{"expression":{"id":8446,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8405,"src":"7680:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8447,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7682:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"7680:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8451,"indexExpression":{"expression":{"expression":{"id":8448,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"7694:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7700:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"7694:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8450,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7710:10:58","memberName":"Collateral","nodeType":"MemberAccess","referencedDeclaration":2632,"src":"7694:26:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7680:41:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7648:73:58"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":8467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":8459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8454,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8389,"src":"7753:6:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":8457,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7771:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":8456,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7763:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8455,"name":"address","nodeType":"ElementaryTypeName","src":"7763:7:58","typeDescriptions":{}}},"id":8458,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7763:10:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7753:20:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8466,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8460,"name":"borrowedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8397,"src":"7777:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"arguments":[{"id":8463,"name":"totalCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8445,"src":"7817:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8464,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"7840:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8461,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"7795:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7807:9:58","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":8948,"src":"7795:21:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":8465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7795:61:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7777:79:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7753:103:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8468,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"7870:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7876:18:58","memberName":"NotEnoughLiquidity","nodeType":"MemberAccess","referencedDeclaration":2778,"src":"7870:24:58","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":8470,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7870:26:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":8453,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"7732:7:58","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":8471,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7732:174:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8472,"nodeType":"ExpressionStatement","src":"7732:174:58"},{"expression":{"id":8483,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":8473,"name":"$","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8405,"src":"7941:1:58","typeDescriptions":{"typeIdentifier":"t_struct$_SiloStorage_$2699_storage_ptr","typeString":"struct ISilo.SiloStorage storage pointer"}},"id":8478,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7943:11:58","memberName":"totalAssets","nodeType":"MemberAccess","referencedDeclaration":2698,"src":"7941:13:58","typeDescriptions":{"typeIdentifier":"t_mapping$_t_enum$_AssetType_$2634_$_t_uint256_$","typeString":"mapping(enum ISilo.AssetType => uint256)"}},"id":8479,"indexExpression":{"expression":{"expression":{"id":8475,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"7955:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7961:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"7955:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8477,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"7971:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"7955:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7941:35:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8480,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"7979:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":8481,"name":"borrowedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8397,"src":"7997:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7979:32:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7941:70:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8484,"nodeType":"ExpressionStatement","src":"7941:70:58"},{"expression":{"arguments":[{"expression":{"id":8489,"name":"_args","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8394,"src":"8143:5:58","typeDescriptions":{"typeIdentifier":"t_struct$_BorrowArgs_$2667_memory_ptr","typeString":"struct ISilo.BorrowArgs memory"}},"id":8490,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8149:8:58","memberName":"borrower","nodeType":"MemberAccess","referencedDeclaration":2666,"src":"8143:14:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8491,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8391,"src":"8159:8:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8492,"name":"borrowedShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8399,"src":"8169:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":8486,"name":"_debtShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8387,"src":"8121:15:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":8485,"name":"IShareToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2601,"src":"8109:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IShareToken_$2601_$","typeString":"type(contract IShareToken)"}},"id":8487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8109:28:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IShareToken_$2601","typeString":"contract IShareToken"}},"id":8488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8138:4:58","memberName":"mint","nodeType":"MemberAccess","referencedDeclaration":2544,"src":"8109:33:58","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256) external"}},"id":8493,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8109:75:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8494,"nodeType":"ExpressionStatement","src":"8109:75:58"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":8500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8495,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8389,"src":"8199:6:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":8498,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8217:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":8497,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8209:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8496,"name":"address","nodeType":"ElementaryTypeName","src":"8209:7:58","typeDescriptions":{}}},"id":8499,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8209:10:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8199:20:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8511,"nodeType":"IfStatement","src":"8195:261:58","trueBody":{"id":8510,"nodeType":"Block","src":"8221:235:58","statements":[{"expression":{"arguments":[{"expression":{"id":8505,"name":"_args","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8394,"src":"8414:5:58","typeDescriptions":{"typeIdentifier":"t_struct$_BorrowArgs_$2667_memory_ptr","typeString":"struct ISilo.BorrowArgs memory"}},"id":8506,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8420:8:58","memberName":"receiver","nodeType":"MemberAccess","referencedDeclaration":2664,"src":"8414:14:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8507,"name":"borrowedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8397,"src":"8430:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":8502,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8389,"src":"8393:6:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":8501,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2023,"src":"8386:6:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$2023_$","typeString":"type(contract IERC20)"}},"id":8503,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8386:14:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$2023","typeString":"contract IERC20"}},"id":8504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8401:12:58","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":2073,"src":"8386:27:58","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$2023_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$2023_$","typeString":"function (contract IERC20,address,uint256)"}},"id":8508,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8386:59:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8509,"nodeType":"ExpressionStatement","src":"8386:59:58"}]}}]},"documentation":{"id":8385,"nodeType":"StructuredDocumentation","src":"6321:596:58","text":"@notice Allows a user or a delegate to borrow assets against their collateral\n @dev The function checks for necessary conditions such as borrow possibility, enough liquidity, and zero\n values\n @param _debtShareToken address of debt share token\n @param _token address of underlying debt token\n @param _spender Address which initiates the borrowing action on behalf of the borrower\n @return borrowedAssets Actual number of assets that the user has borrowed\n @return borrowedShares Number of debt share tokens corresponding to the borrowed assets"},"id":8513,"implemented":true,"kind":"function","modifiers":[],"name":"borrow","nameLocation":"6931:6:58","nodeType":"FunctionDefinition","parameters":{"id":8395,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8387,"mutability":"mutable","name":"_debtShareToken","nameLocation":"6955:15:58","nodeType":"VariableDeclaration","scope":8513,"src":"6947:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8386,"name":"address","nodeType":"ElementaryTypeName","src":"6947:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8389,"mutability":"mutable","name":"_token","nameLocation":"6988:6:58","nodeType":"VariableDeclaration","scope":8513,"src":"6980:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8388,"name":"address","nodeType":"ElementaryTypeName","src":"6980:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8391,"mutability":"mutable","name":"_spender","nameLocation":"7012:8:58","nodeType":"VariableDeclaration","scope":8513,"src":"7004:16:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8390,"name":"address","nodeType":"ElementaryTypeName","src":"7004:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8394,"mutability":"mutable","name":"_args","nameLocation":"7054:5:58","nodeType":"VariableDeclaration","scope":8513,"src":"7030:29:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BorrowArgs_$2667_memory_ptr","typeString":"struct ISilo.BorrowArgs"},"typeName":{"id":8393,"nodeType":"UserDefinedTypeName","pathNode":{"id":8392,"name":"ISilo.BorrowArgs","nameLocations":["7030:5:58","7036:10:58"],"nodeType":"IdentifierPath","referencedDeclaration":2667,"src":"7030:16:58"},"referencedDeclaration":2667,"src":"7030:16:58","typeDescriptions":{"typeIdentifier":"t_struct$_BorrowArgs_$2667_storage_ptr","typeString":"struct ISilo.BorrowArgs"}},"visibility":"internal"}],"src":"6937:128:58"},"returnParameters":{"id":8400,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8397,"mutability":"mutable","name":"borrowedAssets","nameLocation":"7108:14:58","nodeType":"VariableDeclaration","scope":8513,"src":"7100:22:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8396,"name":"uint256","nodeType":"ElementaryTypeName","src":"7100:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8399,"mutability":"mutable","name":"borrowedShares","nameLocation":"7132:14:58","nodeType":"VariableDeclaration","scope":8513,"src":"7124:22:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8398,"name":"uint256","nodeType":"ElementaryTypeName","src":"7124:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7099:48:58"},"scope":8902,"src":"6922:1540:58","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":8633,"nodeType":"Block","src":"9558:1643:58","statements":[{"assignments":[8540],"declarations":[{"constant":false,"id":8540,"mutability":"mutable","name":"ltvData","nameLocation":"9599:7:58","nodeType":"VariableDeclaration","scope":8633,"src":"9568:38:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_LtvData_$12187_memory_ptr","typeString":"struct SiloSolvencyLib.LtvData"},"typeName":{"id":8539,"nodeType":"UserDefinedTypeName","pathNode":{"id":8538,"name":"SiloSolvencyLib.LtvData","nameLocations":["9568:15:58","9584:7:58"],"nodeType":"IdentifierPath","referencedDeclaration":12187,"src":"9568:23:58"},"referencedDeclaration":12187,"src":"9568:23:58","typeDescriptions":{"typeIdentifier":"t_struct$_LtvData_$12187_storage_ptr","typeString":"struct SiloSolvencyLib.LtvData"}},"visibility":"internal"}],"id":8554,"initialValue":{"arguments":[{"id":8543,"name":"_collateralConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8517,"src":"9690:17:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},{"id":8544,"name":"_debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8520,"src":"9734:11:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},{"id":8545,"name":"_borrower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8522,"src":"9770:9:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"expression":{"id":8546,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"9806:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9812:10:58","memberName":"OracleType","nodeType":"MemberAccess","referencedDeclaration":2629,"src":"9806:16:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_OracleType_$2629_$","typeString":"type(enum ISilo.OracleType)"}},"id":8548,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9823:6:58","memberName":"MaxLtv","nodeType":"MemberAccess","referencedDeclaration":2628,"src":"9806:23:58","typeDescriptions":{"typeIdentifier":"t_enum$_OracleType_$2629","typeString":"enum ISilo.OracleType"}},{"expression":{"expression":{"id":8549,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"9860:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9866:22:58","memberName":"AccrueInterestInMemory","nodeType":"MemberAccess","referencedDeclaration":2625,"src":"9860:28:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AccrueInterestInMemory_$2625_$","typeString":"type(enum ISilo.AccrueInterestInMemory)"}},"id":8551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9889:3:58","memberName":"Yes","nodeType":"MemberAccess","referencedDeclaration":2624,"src":"9860:32:58","typeDescriptions":{"typeIdentifier":"t_enum$_AccrueInterestInMemory_$2625","typeString":"enum ISilo.AccrueInterestInMemory"}},{"hexValue":"30","id":8552,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9931:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"},{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_OracleType_$2629","typeString":"enum ISilo.OracleType"},{"typeIdentifier":"t_enum$_AccrueInterestInMemory_$2625","typeString":"enum ISilo.AccrueInterestInMemory"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"id":8541,"name":"SiloSolvencyLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12732,"src":"9609:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloSolvencyLib_$12732_$","typeString":"type(library SiloSolvencyLib)"}},"id":8542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9625:31:58","memberName":"getAssetsDataForLtvCalculations","nodeType":"MemberAccess","referencedDeclaration":12511,"src":"9609:47:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_ConfigData_$3348_memory_ptr_$_t_struct$_ConfigData_$3348_memory_ptr_$_t_address_$_t_enum$_OracleType_$2629_$_t_enum$_AccrueInterestInMemory_$2625_$_t_uint256_$returns$_t_struct$_LtvData_$12187_memory_ptr_$","typeString":"function (struct ISiloConfig.ConfigData memory,struct ISiloConfig.ConfigData memory,address,enum ISilo.OracleType,enum ISilo.AccrueInterestInMemory,uint256) view returns (struct SiloSolvencyLib.LtvData memory)"}},"id":8553,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["9671:17:58","9721:11:58","9759:9:58","9793:11:58","9843:15:58","9906:23:58"],"names":["_collateralConfig","_debtConfig","_borrower","_oracleType","_accrueInMemory","_debtShareBalanceCached"],"nodeType":"FunctionCall","src":"9609:349:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_LtvData_$12187_memory_ptr","typeString":"struct SiloSolvencyLib.LtvData memory"}},"nodeType":"VariableDeclarationStatement","src":"9568:390:58"},{"assignments":[8556,8558],"declarations":[{"constant":false,"id":8556,"mutability":"mutable","name":"sumOfBorrowerCollateralValue","nameLocation":"9991:28:58","nodeType":"VariableDeclaration","scope":8633,"src":"9983:36:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8555,"name":"uint256","nodeType":"ElementaryTypeName","src":"9983:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8558,"mutability":"mutable","name":"borrowerDebtValue","nameLocation":"10029:17:58","nodeType":"VariableDeclaration","scope":8633,"src":"10021:25:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8557,"name":"uint256","nodeType":"ElementaryTypeName","src":"10021:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8567,"initialValue":{"arguments":[{"id":8561,"name":"ltvData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8540,"src":"10093:7:58","typeDescriptions":{"typeIdentifier":"t_struct$_LtvData_$12187_memory_ptr","typeString":"struct SiloSolvencyLib.LtvData memory"}},{"expression":{"id":8562,"name":"_collateralConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8517,"src":"10102:17:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8563,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10120:5:58","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":3321,"src":"10102:23:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":8564,"name":"_debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8520,"src":"10127:11:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8565,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10139:5:58","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":3321,"src":"10127:17:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_LtvData_$12187_memory_ptr","typeString":"struct SiloSolvencyLib.LtvData memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8559,"name":"SiloSolvencyLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12732,"src":"10059:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloSolvencyLib_$12732_$","typeString":"type(library SiloSolvencyLib)"}},"id":8560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10075:17:58","memberName":"getPositionValues","nodeType":"MemberAccess","referencedDeclaration":12711,"src":"10059:33:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_LtvData_$12187_memory_ptr_$_t_address_$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (struct SiloSolvencyLib.LtvData memory,address,address) view returns (uint256,uint256)"}},"id":8566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10059:86:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"9969:176:58"},{"assignments":[8569],"declarations":[{"constant":false,"id":8569,"mutability":"mutable","name":"maxBorrowValue","nameLocation":"10164:14:58","nodeType":"VariableDeclaration","scope":8633,"src":"10156:22:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8568,"name":"uint256","nodeType":"ElementaryTypeName","src":"10156:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8577,"initialValue":{"arguments":[{"expression":{"id":8572,"name":"_collateralConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8517,"src":"10230:17:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8573,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10248:6:58","memberName":"maxLtv","nodeType":"MemberAccess","referencedDeclaration":3335,"src":"10230:24:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8574,"name":"sumOfBorrowerCollateralValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8556,"src":"10268:28:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8575,"name":"borrowerDebtValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8558,"src":"10310:17:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8570,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"10181:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10193:23:58","memberName":"calculateMaxBorrowValue","nodeType":"MemberAccess","referencedDeclaration":9373,"src":"10181:35:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":8576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10181:156:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10156:181:58"},{"expression":{"id":8590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8578,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"10349:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8579,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8534,"src":"10357:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8580,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"10348:16:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8582,"name":"maxBorrowValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8569,"src":"10430:14:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8583,"name":"_debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8520,"src":"10470:11:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8584,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10482:5:58","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":3321,"src":"10470:17:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":8585,"name":"ltvData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8540,"src":"10514:7:58","typeDescriptions":{"typeIdentifier":"t_struct$_LtvData_$12187_memory_ptr","typeString":"struct SiloSolvencyLib.LtvData memory"}},"id":8586,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10522:10:58","memberName":"debtOracle","nodeType":"MemberAccess","referencedDeclaration":12180,"src":"10514:18:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}},{"id":8587,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8524,"src":"10564:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8588,"name":"_totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8526,"src":"10612:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8581,"name":"maxBorrowValueToAssetsAndShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8901,"src":"10367:31:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_address_$_t_contract$_ISiloOracle_$14802_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,address,contract ISiloOracle,uint256,uint256) view returns (uint256,uint256)"}},"id":8589,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["10413:15:58","10458:10:58","10501:11:58","10546:16:58","10594:16:58"],"names":["_maxBorrowValue","_debtAsset","_debtOracle","_totalDebtAssets","_totalDebtShares"],"nodeType":"FunctionCall","src":"10367:272:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"10348:291:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8591,"nodeType":"ExpressionStatement","src":"10348:291:58"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":8598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8592,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"10654:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8593,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10664:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10654:11:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8595,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8534,"src":"10669:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8596,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10679:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10669:11:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"10654:26:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8603,"nodeType":"IfStatement","src":"10650:45:58","trueBody":{"expression":{"components":[{"hexValue":"30","id":8599,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10690:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":8600,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10693:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":8601,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"10689:6:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":8535,"id":8602,"nodeType":"Return","src":"10682:13:58"}},{"assignments":[8605],"declarations":[{"constant":false,"id":8605,"mutability":"mutable","name":"liquidityWithInterest","nameLocation":"10714:21:58","nodeType":"VariableDeclaration","scope":8633,"src":"10706:29:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8604,"name":"uint256","nodeType":"ElementaryTypeName","src":"10706:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8609,"initialValue":{"arguments":[{"id":8607,"name":"_siloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8529,"src":"10751:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}],"id":8606,"name":"getLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8763,"src":"10738:12:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_ISiloConfig_$3553_$returns$_t_uint256_$","typeString":"function (contract ISiloConfig) view returns (uint256)"}},"id":8608,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10738:25:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10706:57:58"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8610,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"10778:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":8611,"name":"liquidityWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8605,"src":"10787:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10778:30:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8632,"nodeType":"IfStatement","src":"10774:421:58","trueBody":{"id":8631,"nodeType":"Block","src":"10810:385:58","statements":[{"expression":{"id":8615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8613,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"10824:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":8614,"name":"liquidityWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8605,"src":"10833:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10824:30:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8616,"nodeType":"ExpressionStatement","src":"10824:30:58"},{"expression":{"id":8629,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8617,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8534,"src":"10957:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8620,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"11011:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8621,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8524,"src":"11035:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8622,"name":"_totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8526,"src":"11069:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8623,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"11103:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8624,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11112:20:58","memberName":"MAX_BORROW_TO_SHARES","nodeType":"MemberAccess","referencedDeclaration":6876,"src":"11103:29:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"expression":{"id":8625,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"11150:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8626,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11156:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"11150:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8627,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"11166:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"11150:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8618,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"10966:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10978:15:58","memberName":"convertToShares","nodeType":"MemberAccess","referencedDeclaration":9287,"src":"10966:27:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256)"}},"id":8628,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10966:218:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10957:227:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8630,"nodeType":"ExpressionStatement","src":"10957:227:58"}]}}]},"documentation":{"id":8514,"nodeType":"StructuredDocumentation","src":"8468:689:58","text":"@notice Determines the maximum amount (both in assets and shares) that a borrower can borrow\n @param _collateralConfig Configuration data for the collateral\n @param _debtConfig Configuration data for the debt\n @param _borrower The address of the borrower whose maximum borrow limit is being queried\n @param _totalDebtAssets The total debt assets in the system\n @param _totalDebtShares The total debt shares in the system\n @param _siloConfig address of SiloConfig contract\n @return assets The maximum amount in assets that can be borrowed\n @return shares The equivalent amount in shares for the maximum assets that can be borrowed"},"id":8634,"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxBorrow","nameLocation":"9171:18:58","nodeType":"FunctionDefinition","parameters":{"id":8530,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8517,"mutability":"mutable","name":"_collateralConfig","nameLocation":"9272:17:58","nodeType":"VariableDeclaration","scope":8634,"src":"9242:47:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":8516,"nodeType":"UserDefinedTypeName","pathNode":{"id":8515,"name":"ISiloConfig.ConfigData","nameLocations":["9242:11:58","9254:10:58"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"9242:22:58"},"referencedDeclaration":3348,"src":"9242:22:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"},{"constant":false,"id":8520,"mutability":"mutable","name":"_debtConfig","nameLocation":"9329:11:58","nodeType":"VariableDeclaration","scope":8634,"src":"9299:41:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":8519,"nodeType":"UserDefinedTypeName","pathNode":{"id":8518,"name":"ISiloConfig.ConfigData","nameLocations":["9299:11:58","9311:10:58"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"9299:22:58"},"referencedDeclaration":3348,"src":"9299:22:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"},{"constant":false,"id":8522,"mutability":"mutable","name":"_borrower","nameLocation":"9358:9:58","nodeType":"VariableDeclaration","scope":8634,"src":"9350:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8521,"name":"address","nodeType":"ElementaryTypeName","src":"9350:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8524,"mutability":"mutable","name":"_totalDebtAssets","nameLocation":"9385:16:58","nodeType":"VariableDeclaration","scope":8634,"src":"9377:24:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8523,"name":"uint256","nodeType":"ElementaryTypeName","src":"9377:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8526,"mutability":"mutable","name":"_totalDebtShares","nameLocation":"9419:16:58","nodeType":"VariableDeclaration","scope":8634,"src":"9411:24:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8525,"name":"uint256","nodeType":"ElementaryTypeName","src":"9411:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8529,"mutability":"mutable","name":"_siloConfig","nameLocation":"9457:11:58","nodeType":"VariableDeclaration","scope":8634,"src":"9445:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"},"typeName":{"id":8528,"nodeType":"UserDefinedTypeName","pathNode":{"id":8527,"name":"ISiloConfig","nameLocations":["9445:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":3553,"src":"9445:11:58"},"referencedDeclaration":3553,"src":"9445:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"visibility":"internal"}],"src":"9189:285:58"},"returnParameters":{"id":8535,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8532,"mutability":"mutable","name":"assets","nameLocation":"9530:6:58","nodeType":"VariableDeclaration","scope":8634,"src":"9522:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8531,"name":"uint256","nodeType":"ElementaryTypeName","src":"9522:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8534,"mutability":"mutable","name":"shares","nameLocation":"9546:6:58","nodeType":"VariableDeclaration","scope":8634,"src":"9538:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8533,"name":"uint256","nodeType":"ElementaryTypeName","src":"9538:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9521:32:58"},"scope":8902,"src":"9162:2039:58","stateMutability":"view","virtual":false,"visibility":"internal"},{"body":{"id":8728,"nodeType":"Block","src":"11351:889:58","statements":[{"assignments":[8647],"declarations":[{"constant":false,"id":8647,"mutability":"mutable","name":"siloConfig","nameLocation":"11373:10:58","nodeType":"VariableDeclaration","scope":8728,"src":"11361:22:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"},"typeName":{"id":8646,"nodeType":"UserDefinedTypeName","pathNode":{"id":8645,"name":"ISiloConfig","nameLocations":["11361:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":3553,"src":"11361:11:58"},"referencedDeclaration":3553,"src":"11361:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"visibility":"internal"}],"id":8651,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8648,"name":"ShareTokenLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7425,"src":"11386:13:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ShareTokenLib_$7425_$","typeString":"type(library ShareTokenLib)"}},"id":8649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11400:10:58","memberName":"siloConfig","nodeType":"MemberAccess","referencedDeclaration":7404,"src":"11386:24:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_contract$_ISiloConfig_$3553_$","typeString":"function () view returns (contract ISiloConfig)"}},"id":8650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11386:26:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"nodeType":"VariableDeclarationStatement","src":"11361:51:58"},{"condition":{"arguments":[{"arguments":[{"id":8656,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"11464:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8655,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11456:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8654,"name":"address","nodeType":"ElementaryTypeName","src":"11456:7:58","typeDescriptions":{}}},"id":8657,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11456:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8658,"name":"_borrower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8636,"src":"11471:9:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8652,"name":"siloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8647,"src":"11426:10:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"id":8653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11437:18:58","memberName":"hasDebtInOtherSilo","nodeType":"MemberAccess","referencedDeclaration":3445,"src":"11426:29:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_bool_$","typeString":"function (address,address) view external returns (bool)"}},"id":8659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11426:55:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8664,"nodeType":"IfStatement","src":"11422:74:58","trueBody":{"expression":{"components":[{"hexValue":"30","id":8660,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11491:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":8661,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11494:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":8662,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"11490:6:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":8644,"id":8663,"nodeType":"Return","src":"11483:13:58"}},{"assignments":[8669],"declarations":[{"constant":false,"id":8669,"mutability":"mutable","name":"collateralConfig","nameLocation":"11537:16:58","nodeType":"VariableDeclaration","scope":8728,"src":"11507:46:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":8668,"nodeType":"UserDefinedTypeName","pathNode":{"id":8667,"name":"ISiloConfig.ConfigData","nameLocations":["11507:11:58","11519:10:58"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"11507:22:58"},"referencedDeclaration":3348,"src":"11507:22:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"}],"id":8670,"nodeType":"VariableDeclarationStatement","src":"11507:46:58"},{"assignments":[8675],"declarations":[{"constant":false,"id":8675,"mutability":"mutable","name":"debtConfig","nameLocation":"11593:10:58","nodeType":"VariableDeclaration","scope":8728,"src":"11563:40:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":8674,"nodeType":"UserDefinedTypeName","pathNode":{"id":8673,"name":"ISiloConfig.ConfigData","nameLocations":["11563:11:58","11575:10:58"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"11563:22:58"},"referencedDeclaration":3348,"src":"11563:22:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"}],"id":8676,"nodeType":"VariableDeclarationStatement","src":"11563:40:58"},{"condition":{"id":8677,"name":"_sameAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8638,"src":"11618:10:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":8705,"nodeType":"Block","src":"11752:116:58","statements":[{"expression":{"id":8703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8693,"name":"collateralConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8669,"src":"11767:16:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},{"id":8694,"name":"debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8675,"src":"11785:10:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}}],"id":8695,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"11766:30:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_ConfigData_$3348_memory_ptr_$_t_struct$_ConfigData_$3348_memory_ptr_$","typeString":"tuple(struct ISiloConfig.ConfigData memory,struct ISiloConfig.ConfigData memory)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":8700,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"11850:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8699,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11842:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8698,"name":"address","nodeType":"ElementaryTypeName","src":"11842:7:58","typeDescriptions":{}}},"id":8701,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11842:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8696,"name":"siloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8647,"src":"11799:10:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"id":8697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11810:19:58","memberName":"getConfigsForBorrow","nodeType":"MemberAccess","referencedDeclaration":3503,"src":"11799:30:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_struct$_ConfigData_$3348_memory_ptr_$_t_struct$_ConfigData_$3348_memory_ptr_$","typeString":"function (address) view external returns (struct ISiloConfig.ConfigData memory,struct ISiloConfig.ConfigData memory)"}},"id":8702,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":["11831:9:58"],"names":["_debtSilo"],"nodeType":"FunctionCall","src":"11799:58:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_ConfigData_$3348_memory_ptr_$_t_struct$_ConfigData_$3348_memory_ptr_$","typeString":"tuple(struct ISiloConfig.ConfigData memory,struct ISiloConfig.ConfigData memory)"}},"src":"11766:91:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8704,"nodeType":"ExpressionStatement","src":"11766:91:58"}]},"id":8706,"nodeType":"IfStatement","src":"11614:254:58","trueBody":{"id":8692,"nodeType":"Block","src":"11630:116:58","statements":[{"expression":{"id":8686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8678,"name":"debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8675,"src":"11644:10:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":8683,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"11686:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8682,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11678:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8681,"name":"address","nodeType":"ElementaryTypeName","src":"11678:7:58","typeDescriptions":{}}},"id":8684,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11678:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8679,"name":"siloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8647,"src":"11657:10:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"id":8680,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11668:9:58","memberName":"getConfig","nodeType":"MemberAccess","referencedDeclaration":3474,"src":"11657:20:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_struct$_ConfigData_$3348_memory_ptr_$","typeString":"function (address) view external returns (struct ISiloConfig.ConfigData memory)"}},"id":8685,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11657:35:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"src":"11644:48:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8687,"nodeType":"ExpressionStatement","src":"11644:48:58"},{"expression":{"id":8690,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8688,"name":"collateralConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8669,"src":"11706:16:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":8689,"name":"debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8675,"src":"11725:10:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"src":"11706:29:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8691,"nodeType":"ExpressionStatement","src":"11706:29:58"}]}},{"assignments":[8708,8710],"declarations":[{"constant":false,"id":8708,"mutability":"mutable","name":"totalDebtAssets","nameLocation":"11887:15:58","nodeType":"VariableDeclaration","scope":8728,"src":"11879:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8707,"name":"uint256","nodeType":"ElementaryTypeName","src":"11879:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8710,"mutability":"mutable","name":"totalDebtShares","nameLocation":"11912:15:58","nodeType":"VariableDeclaration","scope":8728,"src":"11904:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8709,"name":"uint256","nodeType":"ElementaryTypeName","src":"11904:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8718,"initialValue":{"arguments":[{"id":8713,"name":"debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8675,"src":"11995:10:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},{"expression":{"expression":{"id":8714,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"12007:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8715,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12013:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"12007:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8716,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"12023:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"12007:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8711,"name":"SiloStdLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10004,"src":"11943:10:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloStdLib_$10004_$","typeString":"type(library SiloStdLib)"}},"id":8712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11954:40:58","memberName":"getTotalAssetsAndTotalSharesWithInterest","nodeType":"MemberAccess","referencedDeclaration":9802,"src":"11943:51:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_ConfigData_$3348_memory_ptr_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$_t_uint256_$","typeString":"function (struct ISiloConfig.ConfigData memory,enum ISilo.AssetType) view returns (uint256,uint256)"}},"id":8717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11943:85:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"11878:150:58"},{"expression":{"arguments":[{"id":8720,"name":"collateralConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8669,"src":"12078:16:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},{"id":8721,"name":"debtConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8675,"src":"12108:10:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},{"id":8722,"name":"_borrower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8636,"src":"12132:9:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8723,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8708,"src":"12155:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8724,"name":"totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8710,"src":"12184:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8725,"name":"siloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8647,"src":"12213:10:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"},{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}],"id":8719,"name":"calculateMaxBorrow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8634,"src":"12046:18:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_ConfigData_$3348_memory_ptr_$_t_struct$_ConfigData_$3348_memory_ptr_$_t_address_$_t_uint256_$_t_uint256_$_t_contract$_ISiloConfig_$3553_$returns$_t_uint256_$_t_uint256_$","typeString":"function (struct ISiloConfig.ConfigData memory,struct ISiloConfig.ConfigData memory,address,uint256,uint256,contract ISiloConfig) view returns (uint256,uint256)"}},"id":8726,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12046:187:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":8644,"id":8727,"nodeType":"Return","src":"12039:194:58"}]},"id":8729,"implemented":true,"kind":"function","modifiers":[],"name":"maxBorrow","nameLocation":"11216:9:58","nodeType":"FunctionDefinition","parameters":{"id":8639,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8636,"mutability":"mutable","name":"_borrower","nameLocation":"11234:9:58","nodeType":"VariableDeclaration","scope":8729,"src":"11226:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8635,"name":"address","nodeType":"ElementaryTypeName","src":"11226:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8638,"mutability":"mutable","name":"_sameAsset","nameLocation":"11250:10:58","nodeType":"VariableDeclaration","scope":8729,"src":"11245:15:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8637,"name":"bool","nodeType":"ElementaryTypeName","src":"11245:4:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"11225:36:58"},"returnParameters":{"id":8644,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8641,"mutability":"mutable","name":"maxAssets","nameLocation":"11317:9:58","nodeType":"VariableDeclaration","scope":8729,"src":"11309:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8640,"name":"uint256","nodeType":"ElementaryTypeName","src":"11309:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8643,"mutability":"mutable","name":"maxShares","nameLocation":"11336:9:58","nodeType":"VariableDeclaration","scope":8729,"src":"11328:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8642,"name":"uint256","nodeType":"ElementaryTypeName","src":"11328:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11308:38:58"},"scope":8902,"src":"11207:1033:58","stateMutability":"view","virtual":false,"visibility":"internal"},{"body":{"id":8762,"nodeType":"Block","src":"12335:212:58","statements":[{"assignments":[8741],"declarations":[{"constant":false,"id":8741,"mutability":"mutable","name":"config","nameLocation":"12375:6:58","nodeType":"VariableDeclaration","scope":8762,"src":"12345:36:58","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData"},"typeName":{"id":8740,"nodeType":"UserDefinedTypeName","pathNode":{"id":8739,"name":"ISiloConfig.ConfigData","nameLocations":["12345:11:58","12357:10:58"],"nodeType":"IdentifierPath","referencedDeclaration":3348,"src":"12345:22:58"},"referencedDeclaration":3348,"src":"12345:22:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_storage_ptr","typeString":"struct ISiloConfig.ConfigData"}},"visibility":"internal"}],"id":8749,"initialValue":{"arguments":[{"arguments":[{"id":8746,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"12414:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8745,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12406:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8744,"name":"address","nodeType":"ElementaryTypeName","src":"12406:7:58","typeDescriptions":{}}},"id":8747,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12406:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8742,"name":"_siloConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8732,"src":"12384:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"id":8743,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12396:9:58","memberName":"getConfig","nodeType":"MemberAccess","referencedDeclaration":3474,"src":"12384:21:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_struct$_ConfigData_$3348_memory_ptr_$","typeString":"function (address) view external returns (struct ISiloConfig.ConfigData memory)"}},"id":8748,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12384:36:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"nodeType":"VariableDeclarationStatement","src":"12345:75:58"},{"expression":{"id":8760,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8750,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8735,"src":"12431:9:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},null,null],"id":8751,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"12430:13:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$__$__$","typeString":"tuple(uint256,,)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":8753,"name":"config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8741,"src":"12480:6:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8754,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12487:17:58","memberName":"interestRateModel","nodeType":"MemberAccess","referencedDeclaration":3333,"src":"12480:24:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":8755,"name":"config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8741,"src":"12506:6:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8756,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12513:6:58","memberName":"daoFee","nodeType":"MemberAccess","referencedDeclaration":3315,"src":"12506:13:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8757,"name":"config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8741,"src":"12521:6:58","typeDescriptions":{"typeIdentifier":"t_struct$_ConfigData_$3348_memory_ptr","typeString":"struct ISiloConfig.ConfigData memory"}},"id":8758,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12528:11:58","memberName":"deployerFee","nodeType":"MemberAccess","referencedDeclaration":3317,"src":"12521:18:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8752,"name":"getLiquidityAndAssetsWithInterest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8811,"src":"12446:33:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (address,uint256,uint256) view returns (uint256,uint256,uint256)"}},"id":8759,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12446:94:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"12430:110:58","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8761,"nodeType":"ExpressionStatement","src":"12430:110:58"}]},"id":8763,"implemented":true,"kind":"function","modifiers":[],"name":"getLiquidity","nameLocation":"12255:12:58","nodeType":"FunctionDefinition","parameters":{"id":8733,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8732,"mutability":"mutable","name":"_siloConfig","nameLocation":"12280:11:58","nodeType":"VariableDeclaration","scope":8763,"src":"12268:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"},"typeName":{"id":8731,"nodeType":"UserDefinedTypeName","pathNode":{"id":8730,"name":"ISiloConfig","nameLocations":["12268:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":3553,"src":"12268:11:58"},"referencedDeclaration":3553,"src":"12268:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloConfig_$3553","typeString":"contract ISiloConfig"}},"visibility":"internal"}],"src":"12267:25:58"},"returnParameters":{"id":8736,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8735,"mutability":"mutable","name":"liquidity","nameLocation":"12324:9:58","nodeType":"VariableDeclaration","scope":8763,"src":"12316:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8734,"name":"uint256","nodeType":"ElementaryTypeName","src":"12316:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12315:19:58"},"scope":8902,"src":"12246:301:58","stateMutability":"view","virtual":false,"visibility":"internal"},{"body":{"id":8810,"nodeType":"Block","src":"12789:427:58","statements":[{"expression":{"id":8789,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8778,"name":"totalCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8774,"src":"12799:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":8783,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"12892:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8782,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12884:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8781,"name":"address","nodeType":"ElementaryTypeName","src":"12884:7:58","typeDescriptions":{}}},"id":8784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12884:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8785,"name":"_interestRateModel","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8765,"src":"12911:18:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8786,"name":"_daoFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8767,"src":"12943:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8787,"name":"_deployerFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8769,"src":"12964:12:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8779,"name":"SiloStdLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10004,"src":"12823:10:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloStdLib_$10004_$","typeString":"type(library SiloStdLib)"}},"id":8780,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12834:36:58","memberName":"getTotalCollateralAssetsWithInterest","nodeType":"MemberAccess","referencedDeclaration":9909,"src":"12823:47:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,address,uint256,uint256) view returns (uint256)"}},"id":8788,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12823:163:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12799:187:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8790,"nodeType":"ExpressionStatement","src":"12799:187:58"},{"expression":{"id":8800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8791,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8776,"src":"12997:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":8796,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"13078:4:58","typeDescriptions":{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SiloLendingLib_$8902","typeString":"library SiloLendingLib"}],"id":8795,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"13070:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8794,"name":"address","nodeType":"ElementaryTypeName","src":"13070:7:58","typeDescriptions":{}}},"id":8797,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13070:13:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8798,"name":"_interestRateModel","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8765,"src":"13097:18:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8792,"name":"SiloStdLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10004,"src":"13015:10:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloStdLib_$10004_$","typeString":"type(library SiloStdLib)"}},"id":8793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13026:30:58","memberName":"getTotalDebtAssetsWithInterest","nodeType":"MemberAccess","referencedDeclaration":10003,"src":"13015:41:58","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address) view returns (uint256)"}},"id":8799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13015:110:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12997:128:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8801,"nodeType":"ExpressionStatement","src":"12997:128:58"},{"expression":{"id":8808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8802,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8772,"src":"13136:9:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8805,"name":"totalCollateralAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8774,"src":"13170:21:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8806,"name":"totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8776,"src":"13193:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8803,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"13148:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8804,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13160:9:58","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":8948,"src":"13148:21:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":8807,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13148:61:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13136:73:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8809,"nodeType":"ExpressionStatement","src":"13136:73:58"}]},"id":8811,"implemented":true,"kind":"function","modifiers":[],"name":"getLiquidityAndAssetsWithInterest","nameLocation":"12562:33:58","nodeType":"FunctionDefinition","parameters":{"id":8770,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8765,"mutability":"mutable","name":"_interestRateModel","nameLocation":"12604:18:58","nodeType":"VariableDeclaration","scope":8811,"src":"12596:26:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8764,"name":"address","nodeType":"ElementaryTypeName","src":"12596:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8767,"mutability":"mutable","name":"_daoFee","nameLocation":"12632:7:58","nodeType":"VariableDeclaration","scope":8811,"src":"12624:15:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8766,"name":"uint256","nodeType":"ElementaryTypeName","src":"12624:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8769,"mutability":"mutable","name":"_deployerFee","nameLocation":"12649:12:58","nodeType":"VariableDeclaration","scope":8811,"src":"12641:20:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8768,"name":"uint256","nodeType":"ElementaryTypeName","src":"12641:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12595:67:58"},"returnParameters":{"id":8777,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8772,"mutability":"mutable","name":"liquidity","nameLocation":"12718:9:58","nodeType":"VariableDeclaration","scope":8811,"src":"12710:17:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8771,"name":"uint256","nodeType":"ElementaryTypeName","src":"12710:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8774,"mutability":"mutable","name":"totalCollateralAssets","nameLocation":"12737:21:58","nodeType":"VariableDeclaration","scope":8811,"src":"12729:29:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8773,"name":"uint256","nodeType":"ElementaryTypeName","src":"12729:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8776,"mutability":"mutable","name":"totalDebtAssets","nameLocation":"12768:15:58","nodeType":"VariableDeclaration","scope":8811,"src":"12760:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8775,"name":"uint256","nodeType":"ElementaryTypeName","src":"12760:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12709:75:58"},"scope":8902,"src":"12553:663:58","stateMutability":"view","virtual":false,"visibility":"internal"},{"body":{"id":8900,"nodeType":"Block","src":"14002:1329:58","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8832,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8830,"name":"_maxBorrowValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8814,"src":"14016:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8831,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14035:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14016:20:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8838,"nodeType":"IfStatement","src":"14012:64:58","trueBody":{"id":8837,"nodeType":"Block","src":"14038:38:58","statements":[{"expression":{"components":[{"hexValue":"30","id":8833,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14060:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":8834,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14063:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":8835,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"14059:6:58","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":8829,"id":8836,"nodeType":"Return","src":"14052:13:58"}]}},{"assignments":[8840],"declarations":[{"constant":false,"id":8840,"mutability":"mutable","name":"debtTokenSample","nameLocation":"14094:15:58","nodeType":"VariableDeclaration","scope":8900,"src":"14086:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8839,"name":"uint256","nodeType":"ElementaryTypeName","src":"14086:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8842,"initialValue":{"id":8841,"name":"_PRECISION_DECIMALS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8099,"src":"14112:19:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14086:45:58"},{"assignments":[8844],"declarations":[{"constant":false,"id":8844,"mutability":"mutable","name":"debtSampleValue","nameLocation":"14150:15:58","nodeType":"VariableDeclaration","scope":8900,"src":"14142:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8843,"name":"uint256","nodeType":"ElementaryTypeName","src":"14142:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8861,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":8853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":8847,"name":"_debtOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8819,"src":"14176:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}],"id":8846,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14168:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8845,"name":"address","nodeType":"ElementaryTypeName","src":"14168:7:58","typeDescriptions":{}}},"id":8848,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14168:20:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":8851,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14200:1:58","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":8850,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14192:7:58","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8849,"name":"address","nodeType":"ElementaryTypeName","src":"14192:7:58","typeDescriptions":{}}},"id":8852,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14192:10:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"14168:34:58","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":8857,"name":"debtTokenSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8840,"src":"14265:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8858,"name":"_debtAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8816,"src":"14282:10:58","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":8855,"name":"_debtOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8819,"src":"14247:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}},"id":8856,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14259:5:58","memberName":"quote","nodeType":"MemberAccess","referencedDeclaration":14795,"src":"14247:17:58","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (uint256,address) view external returns (uint256)"}},"id":8859,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14247:46:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8860,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"14168:125:58","trueExpression":{"id":8854,"name":"debtTokenSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8840,"src":"14217:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14142:151:58"},{"expression":{"id":8870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8862,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8826,"src":"14304:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8865,"name":"debtTokenSample","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8840,"src":"14336:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8866,"name":"debtSampleValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8844,"src":"14353:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8867,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"14370:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8868,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14379:20:58","memberName":"MAX_BORROW_TO_ASSETS","nodeType":"MemberAccess","referencedDeclaration":6869,"src":"14370:29:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}],"expression":{"id":8863,"name":"_maxBorrowValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8814,"src":"14313:15:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14329:6:58","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":13172,"src":"14313:22:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":8869,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14313:87:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14304:96:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8871,"nodeType":"ExpressionStatement","src":"14304:96:58"},{"expression":{"id":8884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8872,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8828,"src":"14736:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8875,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8826,"src":"14786:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8876,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8821,"src":"14794:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8877,"name":"_totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8823,"src":"14812:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8878,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"14830:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8879,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14839:20:58","memberName":"MAX_BORROW_TO_SHARES","nodeType":"MemberAccess","referencedDeclaration":6876,"src":"14830:29:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"expression":{"id":8880,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"14861:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8881,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14867:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"14861:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8882,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"14877:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"14861:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8873,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"14745:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8874,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14757:15:58","memberName":"convertToShares","nodeType":"MemberAccess","referencedDeclaration":9287,"src":"14745:27:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256)"}},"id":8883,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14745:146:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14736:155:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8885,"nodeType":"ExpressionStatement","src":"14736:155:58"},{"expression":{"id":8898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8886,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8826,"src":"15169:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8889,"name":"shares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8828,"src":"15219:6:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8890,"name":"_totalDebtAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8821,"src":"15227:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8891,"name":"_totalDebtShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8823,"src":"15245:16:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8892,"name":"Rounding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6954,"src":"15263:8:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Rounding_$6954_$","typeString":"type(library Rounding)"}},"id":8893,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15272:20:58","memberName":"MAX_BORROW_TO_ASSETS","nodeType":"MemberAccess","referencedDeclaration":6869,"src":"15263:29:58","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"}},{"expression":{"expression":{"id":8894,"name":"ISilo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"15294:5:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISilo_$3232_$","typeString":"type(contract ISilo)"}},"id":8895,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15300:9:58","memberName":"AssetType","nodeType":"MemberAccess","referencedDeclaration":2634,"src":"15294:15:58","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AssetType_$2634_$","typeString":"type(enum ISilo.AssetType)"}},"id":8896,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15310:4:58","memberName":"Debt","nodeType":"MemberAccess","referencedDeclaration":2633,"src":"15294:20:58","typeDescriptions":{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$12744","typeString":"enum Math.Rounding"},{"typeIdentifier":"t_enum$_AssetType_$2634","typeString":"enum ISilo.AssetType"}],"expression":{"id":8887,"name":"SiloMathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9627,"src":"15178:11:58","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SiloMathLib_$9627_$","typeString":"type(library SiloMathLib)"}},"id":8888,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15190:15:58","memberName":"convertToAssets","nodeType":"MemberAccess","referencedDeclaration":9331,"src":"15178:27:58","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$12744_$_t_enum$_AssetType_$2634_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding,enum ISilo.AssetType) pure returns (uint256)"}},"id":8897,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15178:146:58","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15169:155:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8899,"nodeType":"ExpressionStatement","src":"15169:155:58"}]},"documentation":{"id":8812,"nodeType":"StructuredDocumentation","src":"13222:483:58","text":"@notice Calculates the maximum borrowable assets and shares\n @param _maxBorrowValue The maximum value that can be borrowed by the user\n @param _debtAsset Address of the debt token\n @param _debtOracle Oracle used to get the value of the debt token\n @param _totalDebtAssets Total assets of the debt\n @param _totalDebtShares Total shares of the debt\n @return assets Maximum borrowable assets\n @return shares Maximum borrowable shares"},"id":8901,"implemented":true,"kind":"function","modifiers":[],"name":"maxBorrowValueToAssetsAndShares","nameLocation":"13719:31:58","nodeType":"FunctionDefinition","parameters":{"id":8824,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8814,"mutability":"mutable","name":"_maxBorrowValue","nameLocation":"13768:15:58","nodeType":"VariableDeclaration","scope":8901,"src":"13760:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8813,"name":"uint256","nodeType":"ElementaryTypeName","src":"13760:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8816,"mutability":"mutable","name":"_debtAsset","nameLocation":"13801:10:58","nodeType":"VariableDeclaration","scope":8901,"src":"13793:18:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8815,"name":"address","nodeType":"ElementaryTypeName","src":"13793:7:58","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8819,"mutability":"mutable","name":"_debtOracle","nameLocation":"13833:11:58","nodeType":"VariableDeclaration","scope":8901,"src":"13821:23:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"},"typeName":{"id":8818,"nodeType":"UserDefinedTypeName","pathNode":{"id":8817,"name":"ISiloOracle","nameLocations":["13821:11:58"],"nodeType":"IdentifierPath","referencedDeclaration":14802,"src":"13821:11:58"},"referencedDeclaration":14802,"src":"13821:11:58","typeDescriptions":{"typeIdentifier":"t_contract$_ISiloOracle_$14802","typeString":"contract ISiloOracle"}},"visibility":"internal"},{"constant":false,"id":8821,"mutability":"mutable","name":"_totalDebtAssets","nameLocation":"13862:16:58","nodeType":"VariableDeclaration","scope":8901,"src":"13854:24:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8820,"name":"uint256","nodeType":"ElementaryTypeName","src":"13854:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8823,"mutability":"mutable","name":"_totalDebtShares","nameLocation":"13896:16:58","nodeType":"VariableDeclaration","scope":8901,"src":"13888:24:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8822,"name":"uint256","nodeType":"ElementaryTypeName","src":"13888:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13750:168:58"},"returnParameters":{"id":8829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8826,"mutability":"mutable","name":"assets","nameLocation":"13974:6:58","nodeType":"VariableDeclaration","scope":8901,"src":"13966:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8825,"name":"uint256","nodeType":"ElementaryTypeName","src":"13966:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8828,"mutability":"mutable","name":"shares","nameLocation":"13990:6:58","nodeType":"VariableDeclaration","scope":8901,"src":"13982:14:58","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8827,"name":"uint256","nodeType":"ElementaryTypeName","src":"13982:7:58","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13965:32:58"},"scope":8902,"src":"13710:1621:58","stateMutability":"view","virtual":false,"visibility":"internal"}],"scope":8903,"src":"844:14489:58","usedErrors":[],"usedEvents":[14732]}],"src":"37:15297:58"}